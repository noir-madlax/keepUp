{
  "interaction_id": "v1_ChdwYTg3YWJlcEVZZTNtdGtQMWVUcS1ROBIXcGE4N2FiZXBFWWUzbXRrUDFlVHEtUTg",
  "status": "completed",
  "prompt": "# èƒŒæ™¯\n- æˆ‘éœ€è¦å­¦ä¹ AI agentçš„è®¾è®¡å’Œæ¶æ„ï¼Œæˆ‘è¦è‡ªå·±å¼€å‘ä¸€ä¸ªéå¸¸é¢†å…ˆå’Œè®¾è®¡çš„agentçš„é¢å‘ä¸šåŠ¡åœºæ™¯çš„åº”ç”¨ï¼Œç”¨æ¥å‡å°‘äººç±»å·¥ä½œä¸­çš„åå¤å’Œé‡å¤æ€§çš„å·¥ä½œã€‚Githubä¸Šæœ‰å¾ˆå¤šå¥½çš„agentçš„é¡¹ç›®ï¼Œéœ€è¦é˜…è¯»ä»£ç æ¥äº†è§£åå­¦ä¹ ã€‚\n# è§’è‰²\n- ä½ æ˜¯ä¸€ä¸ªai agentçš„å¼€å‘å’Œè®¾è®¡æ¶æ„çš„ä¸“å®¶ï¼Œä½ å¾ˆæ“…é•¿ç”¨ä¸­æ–‡è®²è§£githubä¸­çš„agenté¡¹ç›®ã€‚ä½ ç‰¹åˆ«ä¼šå¯¹äºï¼Œagentçš„å†…éƒ¨è°ƒç”¨æµç¨‹å’Œå®é™…aiå®Œæˆä¸šåŠ¡åœºæ™¯çš„æµç¨‹ï¼Œè¿™ä¸ªä¹‹é—´çš„ç»“åˆå’Œå¥‘åˆæœ‰å¾ˆæ·±å…¥çš„æ¢ç´¢å’Œè¡¨è¾¾ã€‚\nè¯·ä½ æ·±å…¥ç ”ç©¶è¿™ä¸ª GitHub ä¸Šçš„ AI Agent é¡¹ç›®ï¼šhttps://github.com/Shubhamsaboo/awesome-llm-apps/tree/main/advanced_ai_agents/multi_agent_apps/agent_teams/ai_travel_planner_agent_team\n# è¦æ±‚\nè¯·æŒ‰ç…§ä»¥ä¸‹ç»´åº¦è¿›è¡Œåˆ†æï¼Œæ¯ä¸ªç»´åº¦éƒ½è¦è¯¦ç»†è®²è§£ï¼š\n\n---\n\n## ä¸€ã€é¡¹ç›®æ•´ä½“ç†è§£\n\n### 1.1 ä¸šåŠ¡åœºæ™¯\n- è¿™ä¸ªé¡¹ç›®è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ\n- ç›®æ ‡ç”¨æˆ·æ˜¯è°ï¼Ÿ\n- æ ¸å¿ƒä»·å€¼æ˜¯ä»€ä¹ˆï¼Ÿ\n\n### 1.2 äººç±»æµç¨‹å¯¹æ¯”\n- å¦‚æœäººç±»æ¥åšè¿™ä»¶äº‹ï¼Œæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ\n- é¡¹ç›®å¦‚ä½•å°†äººç±»æµç¨‹æ˜ å°„ä¸º Agent æµç¨‹ï¼Ÿ\n- å“ªäº›æ­¥éª¤è¢«è‡ªåŠ¨åŒ–äº†ï¼Œå“ªäº›ä¿ç•™äº†äººå·¥ä»‹å…¥ï¼Ÿ\n\n---\n\n## äºŒã€æ¶æ„è®¾è®¡\n\n### 2.1 æ•´ä½“æ¶æ„\n- è¯·ç”»å‡ºæ¶æ„å›¾ï¼ˆASCII æˆ–æè¿°ï¼‰\n- ç³»ç»Ÿåˆ†ä¸ºå“ªå‡ å±‚ï¼Ÿå„å±‚èŒè´£æ˜¯ä»€ä¹ˆï¼Ÿ\n- æ•°æ®å¦‚ä½•åœ¨å„å±‚ä¹‹é—´æµåŠ¨ï¼Ÿ\n\n### 2.2 Agent è®¾è®¡\n- æœ‰å‡ ä¸ª Agentï¼Ÿå„è‡ªçš„èŒè´£æ˜¯ä»€ä¹ˆï¼Ÿ\n- Agent ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼ˆç‹¬ç«‹/åä½œ/å±‚çº§ï¼‰ï¼Ÿ\n- ä¸ºä»€ä¹ˆè¦è¿™æ ·æ‹†åˆ† Agentï¼Ÿ\n\n### 2.3 ç¼–æ’å±‚ (Orchestrator)\n- ç¼–æ’é€»è¾‘åœ¨å“ªä¸ªæ–‡ä»¶ï¼Ÿ\n- é‡‡ç”¨ä»€ä¹ˆç¼–æ’æ¨¡å¼ï¼ˆé¡ºåº/å¹¶è¡Œ/æ¡ä»¶/å±‚çº§ï¼‰ï¼Ÿ\n- ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ç§ç¼–æ’æ–¹å¼ï¼Ÿ\n- ç¼–æ’çš„æ ¸å¿ƒæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ\n\n---\n\n## ä¸‰ã€Agent æ¡†æ¶åˆ†æ\n\n### 3.1 ä½¿ç”¨çš„æ¡†æ¶\n- ç”¨äº†ä»€ä¹ˆ Agent æ¡†æ¶ï¼ˆLangChain/CrewAI/Agno/è‡ªç ”ï¼‰ï¼Ÿ\n- æ¡†æ¶çš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ\n- ä¸å…¶ä»–ä¸»æµæ¡†æ¶å¯¹æ¯”æœ‰ä»€ä¹ˆä¼˜åŠ£ï¼Ÿ\n\n### 3.2 æ¡†æ¶ä½¿ç”¨æƒ…å†µ\n- ä»£ç ä¸­ç”¨åˆ°äº†æ¡†æ¶çš„å“ªäº›åŠŸèƒ½ï¼Ÿ\n- æ¡†æ¶çš„å“ªäº›åŠŸèƒ½å®šä¹‰äº†ä½†æ²¡ç”¨ä¸Šï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ\n- æ¡†æ¶ä¸ä¸šåŠ¡ä»£ç æ˜¯å¦‚ä½•ç»“åˆçš„ï¼ŸèŒè´£å¦‚ä½•åˆ†ç¦»ï¼Ÿ\n\n---\n\n## å››ã€Agent å®ç°ç»†èŠ‚\n\n### 4.1 å•ä¸ª Agent çš„ç»“æ„\n- Agent ç”±å“ªäº›éƒ¨åˆ†ç»„æˆï¼Ÿ\n- æ¯ä¸ªéƒ¨åˆ†çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ\n- è¯·ä¸¾ä¸€ä¸ªå…·ä½“ Agent çš„ä¾‹å­è¯¦ç»†è¯´æ˜\n\n### 4.2 Prompt å·¥ç¨‹\n- instructions çš„ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿ\n- expected_output æ˜¯å¦‚ä½•å®šä¹‰çš„ï¼Ÿ\n- æœ‰å“ªäº› Prompt å†™æ³•å€¼å¾—å­¦ä¹ ï¼Ÿ\n- è¯·åˆ—å‡º 3-5 ä¸ª Prompt äº®ç‚¹å¹¶è§£é‡ŠåŸå› \n\n### 4.3 å·¥å…· (Tools)\n- å®šä¹‰äº†å“ªäº›å·¥å…·ï¼Ÿ\n- å·¥å…·æ˜¯å¦‚ä½•ä¸ Agent å…³è”çš„ï¼Ÿ\n- å·¥å…·çš„è¾“å…¥è¾“å‡ºè®¾è®¡æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ\n\n---\n\n## äº”ã€ä¸Šä¸‹æ–‡ç®¡ç†\n\n### 5.1 ä¸Šä¸‹æ–‡ä¼ é€’\n- Agent ä¹‹é—´å¦‚ä½•ä¼ é€’ä¸Šä¸‹æ–‡ï¼Ÿ\n- ä¸Šä¸‹æ–‡çš„æ ¼å¼æ˜¯å›ºå®šçš„è¿˜æ˜¯åŠ¨æ€çš„ï¼Ÿ\n- ä¸Šä¸‹æ–‡å†…å®¹æœ‰å¤šé•¿ï¼Ÿå¦‚ä½•å¤„ç†è¶…é•¿æƒ…å†µï¼Ÿ\n\n### 5.2 ä¸Šä¸‹æ–‡å­˜å‚¨\n- è¿è¡Œä¸­çš„ä¸Šä¸‹æ–‡å­˜åœ¨å“ªé‡Œï¼ˆå†…å­˜/æ•°æ®åº“/æ–‡ä»¶ï¼‰ï¼Ÿ\n- æ˜¯å¦æœ‰æŒä¹…åŒ–ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ\n- ä¸­é—´ç»“æœæ˜¯å¦ä¿å­˜ï¼Ÿ\n\n### 5.3 å¤šæ¨¡æ€\n- æ˜¯å¦æ¶‰åŠå¤šæ¨¡æ€å†…å®¹ï¼ˆå›¾ç‰‡/éŸ³é¢‘/è§†é¢‘ï¼‰ï¼Ÿ\n- å¦‚æœæœ‰ï¼Œæ˜¯å¦‚ä½•å¤„ç†çš„ï¼Ÿ\n\n---\n\n## å…­ã€å¤–éƒ¨ä¾èµ–\n\n### 6.1 å¤–éƒ¨ API\n- è°ƒç”¨äº†å“ªäº›å¤–éƒ¨ APIï¼Ÿ\n- æ¯ä¸ª API çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ\n- API Key æ˜¯å¦‚ä½•ç®¡ç†çš„ï¼Ÿ\n\n### 6.2 LLM é…ç½®\n- ä½¿ç”¨äº†ä»€ä¹ˆ LLM æ¨¡å‹ï¼Ÿ\n- æ˜¯ç›´æ¥è°ƒç”¨è¿˜æ˜¯é€šè¿‡è·¯ç”±å±‚ï¼ˆå¦‚ OpenRouterï¼‰ï¼Ÿ\n- æ¨¡å‹å‚æ•°ï¼ˆtemperature ç­‰ï¼‰æ˜¯å¦‚ä½•è®¾ç½®çš„ï¼Ÿ\n\n---\n\n## ä¸ƒã€åŸºç¡€è®¾æ–½\n\n### 7.1 æ—¥å¿—\n- ä½¿ç”¨ä»€ä¹ˆæ—¥å¿—åº“ï¼Ÿ\n- æ—¥å¿—çš„æ ¼å¼å’Œçº§åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ\n- æœ‰å“ªäº›å€¼å¾—å­¦ä¹ çš„æ—¥å¿—å®è·µï¼Ÿ\n\n### 7.2 é”™è¯¯å¤„ç†\n- é‡è¯•æœºåˆ¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ\n- æœ‰æ²¡æœ‰æŒ‡æ•°é€€é¿ï¼Ÿ\n- å¼‚å¸¸æ˜¯å¦‚ä½•æ•è·å’Œå¤„ç†çš„ï¼Ÿ\n\n### 7.3 çŠ¶æ€ç®¡ç†\n- æœ‰æ²¡æœ‰ä»»åŠ¡çŠ¶æ€è¿½è¸ªï¼Ÿ\n- çŠ¶æ€å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ\n- å‰ç«¯å¦‚ä½•è·å–æ‰§è¡Œè¿›åº¦ï¼Ÿ\n\n---\n\n## å…«ã€è¾“å…¥è¾“å‡ºå¤„ç†\n\n### 8.1 è¾“å…¥å¤„ç†\n- ç”¨æˆ·è¾“å…¥æ˜¯ä»€ä¹ˆæ ¼å¼ï¼Ÿ\n- å¦‚ä½•è½¬æ¢ä¸º Agent å¯ç”¨çš„æ ¼å¼ï¼Ÿ\n- æœ‰æ²¡æœ‰è¾“å…¥è§„èŒƒåŒ–çš„è®¾è®¡ï¼Ÿ\n\n### 8.2 è¾“å‡ºå¤„ç†\n- Agent çš„åŸå§‹è¾“å‡ºæ˜¯ä»€ä¹ˆæ ¼å¼ï¼Ÿ\n- å¦‚ä½•è½¬æ¢ä¸ºç»“æ„åŒ–æ•°æ®ï¼Ÿ\n- æ˜¯å¦ä½¿ç”¨äº† Pydantic ç­‰æ•°æ®éªŒè¯ï¼Ÿ\n\n---\n\n## ä¹ã€é¡¹ç›®ç‰¹è‰²\n\n### 9.1 åˆ›æ–°ç‚¹\n- è¿™ä¸ªé¡¹ç›®æœ‰å“ªäº›æœ‰åˆ›æ„çš„è®¾è®¡ï¼Ÿ\n- æœ‰å“ªäº›å€¼å¾—å€Ÿé‰´çš„æœ€ä½³å®è·µï¼Ÿ\n\n### 9.2 ä¸è¶³ä¹‹å¤„\n- é¡¹ç›®æœ‰å“ªäº›å¯ä»¥æ”¹è¿›çš„åœ°æ–¹ï¼Ÿ\n- å¦‚æœä½ æ¥è®¾è®¡ï¼Œä¼šæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ\n\n---\n\n## åã€å­¦ä¹ æ€»ç»“\n\n### 10.1 æ ¸å¿ƒæ”¶è·\n- ä»è¿™ä¸ªé¡¹ç›®å­¦åˆ°çš„æœ€é‡è¦çš„ 3-5 ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ\n\n### 10.2 å¯å¤ç”¨æ¨¡å¼\n- å“ªäº›è®¾è®¡æ¨¡å¼å¯ä»¥åº”ç”¨åˆ°å…¶ä»– Agent é¡¹ç›®ï¼Ÿ\n\n### 10.3 ä¸‹ä¸€æ­¥\n- å¦‚æœæˆ‘è¦åŸºäºæ­¤å¼€å‘è‡ªå·±çš„ Agentï¼Œç¬¬ä¸€æ­¥åº”è¯¥åšä»€ä¹ˆï¼Ÿ\n\n---\n\n## è¾“å‡ºè¦æ±‚\n\n1. **ä¸è¦å¤§æ®µä»£ç **ï¼šåªç»™å…³é”®å‡ è¡Œè¯´æ˜å³å¯\n2. **ç”¨è¡¨æ ¼å¯¹æ¯”**ï¼šé€‚åˆå¯¹æ¯”çš„å†…å®¹ç”¨è¡¨æ ¼å‘ˆç°\n3. **ç”»æ¶æ„å›¾**ï¼šç”¨ ASCII æˆ–æè¿°ç”»å‡ºå…³é”®æ¶æ„\n4. **ä¸¾å…·ä½“ä¾‹å­**ï¼šæ¯ä¸ªæ¦‚å¿µéƒ½ç”¨é¡¹ç›®ä¸­çš„å®ä¾‹è¯´æ˜\n5. **å¯¹æ¯”äººç±»æµç¨‹**ï¼šå§‹ç»ˆå…³è”äººç±»åšåŒæ ·äº‹æƒ…çš„æ–¹å¼\n6. **è¯­è¨€**ï¼šä½¿ç”¨ä¸­æ–‡å›ç­”\n\n## é¢å¤–æ£€æŸ¥ï¼Œå®Œæˆä¸Šé¢ä»»åŠ¡åç¡®ä¿ä»¥ä¸‹å†…å®¹éƒ½å®Œæˆäº†ï¼š\n- ä¸“ä¸šçš„åˆ†æpromptèµ·åˆ°çš„ä½œç”¨ï¼ˆç»“åˆå®é™…å†…å®¹è¿›è¡Œè®²è§£ï¼‰å’Œç»“æ„åˆ†å±‚ï¼Œå¹¶ä¸”è¯´æ˜ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡çš„æ·±å±‚åŸå› \n- å•ä¸ªæˆ–å¤šä¸ªagentéƒ½æ˜¯åœ¨å®Œæˆä¸šåŠ¡æµç¨‹ï¼Œä½ éœ€è¦æŠŠagentä¹‹é—´çš„è°ƒç”¨æµç¨‹å’Œä¸šåŠ¡æµç¨‹ï¼ˆäººç±»åŸæ¥çš„å·¥ä½œæµç¨‹å’Œåœºæ™¯ï¼‰è¿›è¡Œç»“åˆè¯´æ˜\n- é¡¹ç›®ä¸­å†™ä»£ç ç”¨åˆ°çš„åº•å±‚é€šç”¨ä»£ç å·¥å…·ï¼Œè¿›è¡Œç®€å•çš„ç½—åˆ—ï¼Œä¸èµ˜è¿°ï¼ˆæ¯”å¦‚æ—¥å¿—ã€å®¹é”™ç­‰åŸºç¡€æ¡†æ¶ï¼‰ï¼Œè¯­è¨€ç²¾ç‚¼\n- agentä¹‹é—´æ˜¯å¦‚ä½•é€šè®¯å’Œåè°ƒå·¥ä½œçš„ï¼ŒçŠ¶æ€æµè½¬è¿™å—éœ€è¦è®²è§£\n- agentç”¨åˆ°çš„toolsè¿›è¡Œç®€å•çš„ç½—åˆ—ï¼Œä¸èµ˜è¿°ï¼Œè¯­è¨€ç²¾ç‚¼\n- é¡¹ç›®ç”¨åˆ°çš„å¤–éƒ¨apiå’ŒåŠŸèƒ½è¿›è¡Œç®€å•çš„ç½—åˆ—ï¼Œå®Œæˆçš„åŠŸèƒ½å’Œç›®æ ‡è¯´æ˜ï¼Œå…¶ä»–ä¸èµ˜è¿°ï¼Œè¯­è¨€ç²¾ç‚¼\n- ç»™å‡ºå¯¹æˆ‘å¼€å‘è‡ªå·± \"ä¸šåŠ¡åœºæ™¯ agent\" çš„å¯å‘ï¼ˆåŸºäºè¿™ä¸ªå’¨è¯¢ agentï¼Œåœ¨æ„å»ºæˆ‘è‡ªå·±çš„ä¸šåŠ¡è‡ªåŠ¨åŒ– agent æ—¶å¯ä»¥å€Ÿé‰´çš„è®¾è®¡æ€è·¯ï¼‰\n- è¿™ä¸ªagentä¸­çš„ç‹¬ç‰¹çš„äº®ç‚¹æ˜¯ä»€ä¹ˆï¼Œå¾ˆå·§å¦™çš„è®¾è®¡æœ‰å“ªäº›\n\n",
  "timestamp": "2025-12-12T14:59:30.941291",
  "elapsed_seconds": 3501.3045620918274,
  "report": "# AI Agent æ·±åº¦è§£ææŠ¥å‘Šï¼šåŸºäº Phidata çš„ AI æ—…è¡Œè§„åˆ’å›¢é˜Ÿ (AI Travel Planner Agent Team)\n\n## æ ¸å¿ƒæ‘˜è¦\næœ¬æŠ¥å‘Šé’ˆå¯¹ GitHub é¡¹ç›® `awesome-llm-apps` ä¸­çš„ `ai_travel_planner_agent_team` è¿›è¡Œæ·±åº¦è§£æ„ã€‚è¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªå…¸å‹çš„**å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿ (Multi-Agent System)**ï¼ŒåŸºäº **Phidata (ç°æ›´åä¸º Agno)** æ¡†æ¶æ„å»ºã€‚\n\n**æ ¸å¿ƒç»“è®ºï¼š**\n1.  **ä¸šåŠ¡ä»·å€¼**ï¼šè¯¥é¡¹ç›®å±•ç¤ºäº†å¦‚ä½•å°†å¤æ‚çš„éç»“æ„åŒ–éœ€æ±‚ï¼ˆå¦‚â€œå¸®æˆ‘è§„åˆ’å»å·´é»çš„æ—…è¡Œâ€ï¼‰è½¬åŒ–ä¸ºç»“æ„åŒ–çš„æ‰§è¡Œæ­¥éª¤ï¼ˆæœç´¢èˆªç­ã€æŸ¥è¯¢é…’åº—ã€ç”Ÿæˆè¡Œç¨‹ï¼‰ï¼Œæå¤§åœ°å‡å°‘äº†äººç±»åœ¨ä¸åŒå¹³å°é—´åˆ‡æ¢å’Œæ±‡æ€»ä¿¡æ¯çš„æ—¶é—´ã€‚\n2.  **æ¶æ„æ¨¡å¼**ï¼šé‡‡ç”¨ **â€œä¸»ç®¡-ä¸“å®¶â€ (Manager-Expert)** çš„å±‚çº§ç¼–æ’æ¨¡å¼ã€‚ä¸€ä¸ªæ ¸å¿ƒçš„ç¼–æ’ Agentï¼ˆPlannerï¼‰è´Ÿè´£ç†è§£æ„å›¾å¹¶åˆ†å‘ä»»åŠ¡ï¼Œåº•å±‚çš„ä¸“å®¶ Agentï¼ˆWeb Searcher, Finance/Booking Agentï¼‰è´Ÿè´£å…·ä½“æ‰§è¡Œã€‚\n3.  **æŠ€æœ¯äº®ç‚¹**ï¼šå……åˆ†åˆ©ç”¨äº† LLM çš„ **Function Calling (å·¥å…·è°ƒç”¨)** èƒ½åŠ›ï¼Œå°†è‡ªç„¶è¯­è¨€æŒ‡ä»¤è½¬åŒ–ä¸ºå…·ä½“çš„ API æ“ä½œã€‚å…¶ Prompt è®¾è®¡å¼ºè°ƒäº†â€œè§’è‰²æ‰®æ¼”â€ä¸â€œè¾“å‡ºæ ¼å¼æ§åˆ¶â€ï¼Œæ˜¯ä¸šåŠ¡å‹ Agent å¼€å‘çš„æ•™ç§‘ä¹¦å¼æ¡ˆä¾‹ã€‚\n4.  **é€‚ç”¨æ€§**ï¼šè¯¥æ¶æ„éå¸¸é€‚åˆä¸šåŠ¡æµç¨‹æ¸…æ™°ã€éœ€è¦è°ƒç”¨å¤šä¸ªå¤–éƒ¨æ•°æ®æºçš„åœºæ™¯ï¼ˆå¦‚ä¼ä¸šé‡‡è´­åŠ©æ‰‹ã€è‡ªåŠ¨åŒ–è¿ç»´è¯Šæ–­ã€é‡‘èç ”æŠ¥ç”Ÿæˆï¼‰ã€‚\n\n---\n\n## ä¸€ã€é¡¹ç›®æ•´ä½“ç†è§£\n\n### 1.1 ä¸šåŠ¡åœºæ™¯\n\n| ç»´åº¦ | è¯¦ç»†è¯´æ˜ |\n| :--- | :--- |\n| **è§£å†³çš„é—®é¢˜** | è§£å†³æ—…è¡Œè§„åˆ’ä¸­ä¿¡æ¯ç¢ç‰‡åŒ–ã€å†³ç­–é“¾è·¯é•¿ã€å¤šå¹³å°æ¯”ä»·ç¹ççš„é—®é¢˜ã€‚ä¼ ç»Ÿè§„åˆ’éœ€è¦ç”¨æˆ·æ‰‹åŠ¨èšåˆèˆªç­ã€é…’åº—ã€æ™¯ç‚¹ä¿¡æ¯ï¼Œè€—æ—¶ä¸”å®¹æ˜“é—æ¼ã€‚ |\n| **ç›®æ ‡ç”¨æˆ·** | éœ€è¦åˆ¶å®šå¤æ‚è¡Œç¨‹çš„ä¸ªäººæ—…è¡Œè€…ã€å•†åŠ¡å‡ºå·®äººå£«ï¼Œä»¥åŠå¸Œæœ›æä¾›è‡ªåŠ¨åŒ–æœåŠ¡çš„åœ¨çº¿æ—…è¡Œç¤¾ (OTA) åç«¯ç³»ç»Ÿã€‚ |\n| **æ ¸å¿ƒä»·å€¼** | **è‡ªåŠ¨åŒ–ä¿¡æ¯èšåˆä¸å†³ç­–è¾…åŠ©**ã€‚Agent ä¸ä»…æ˜¯æœç´¢ä¿¡æ¯ï¼Œè¿˜èƒ½æ ¹æ®ç”¨æˆ·çš„åå¥½ï¼ˆé¢„ç®—ã€æ—¶é—´ã€å…´è¶£ï¼‰è¿›è¡Œæ¨ç†å’Œè¿‡æ»¤ï¼Œç›´æ¥è¾“å‡ºå¯æ‰§è¡Œçš„æ–¹æ¡ˆï¼Œå°†â€œæœç´¢å·¥å…·â€å‡çº§ä¸ºâ€œè§£å†³æ–¹æ¡ˆæä¾›è€…â€ã€‚ |\n\n### 1.2 äººç±»æµç¨‹å¯¹æ¯”\n\nåœ¨å¼€å‘ä¸šåŠ¡ Agent æ—¶ï¼Œæœ€å…³é”®çš„ä¸€æ­¥æ˜¯**å·¥ä½œæµæ˜ å°„ (Workflow Mapping)**ã€‚ä»¥ä¸‹æ˜¯äººç±»æ‰‹å·¥æ“ä½œä¸ Agent è‡ªåŠ¨åŒ–æµç¨‹çš„æ·±åº¦å¯¹æ¯”ï¼š\n\n| æ­¥éª¤ | äººç±»æ‰‹å·¥æµç¨‹ (As-Is) | Agent è‡ªåŠ¨åŒ–æµç¨‹ (To-Be) | è‡ªåŠ¨åŒ–ç¨‹åº¦ |\n| :--- | :--- | :--- | :--- |\n| **1. æ„å›¾ç†è§£** | å¤§è„‘æ€è€ƒï¼šâ€œæˆ‘æƒ³å»ä¼¦æ•¦ç©5å¤©ï¼Œé¢„ç®—2ä¸‡ã€‚â€ | **Orchestrator Agent** è§£æ Promptï¼Œæå–å®ä½“ï¼ˆåœ°ç‚¹ï¼šä¼¦æ•¦ï¼Œæ—¶é—´ï¼š5å¤©ï¼Œé¢„ç®—ï¼š20kï¼‰ã€‚ | ğŸŸ¢ å…¨è‡ªåŠ¨ |\n| **2. ä¿¡æ¯è·å–** | æ‰“å¼€ Google/æºç¨‹ï¼Œåˆ†åˆ«æœç´¢èˆªç­ã€é…’åº—ã€æ”»ç•¥ã€‚éœ€è¦åœ¨å¤šä¸ªæµè§ˆå™¨æ ‡ç­¾é¡µåˆ‡æ¢ã€‚ | **Web Search Agent** å¹¶è¡Œæˆ–ä¸²è¡Œè°ƒç”¨æœç´¢å·¥å…· (å¦‚ Exa/DuckDuckGo)ï¼Œæ‰¹é‡è·å–æ•°æ®ã€‚ | ğŸŸ¢ å…¨è‡ªåŠ¨ |\n| **3. æ•°æ®æ¸…æ´—** | äººçœ¼é˜…è¯»ç½‘é¡µï¼Œè¿‡æ»¤å¹¿å‘Šï¼Œå¯»æ‰¾ä»·æ ¼å’Œè¯„åˆ†ï¼Œæ‰‹åŠ¨è®°å½•åˆ° Excel æˆ–å¤‡å¿˜å½•ã€‚ | LLM è¯»å–å·¥å…·è¿”å›çš„ JSON/æ–‡æœ¬ï¼Œæ ¹æ® Prompt ä¸­çš„ `instructions` æå–å…³é”®å­—æ®µï¼ˆä»·æ ¼ã€è¯„åˆ†ï¼‰ã€‚ | ğŸŸ¢ å…¨è‡ªåŠ¨ |\n| **4. æ–¹æ¡ˆæ•´åˆ** | å¯¹æ¯”èˆªç­æ—¶é—´ä¸é…’åº—ä½ç½®ï¼Œçœ‹æ˜¯å¦å†²çªï¼Œæ‰‹åŠ¨è°ƒæ•´è¡Œç¨‹ã€‚ | **Planner Agent** æ±‡æ€»å„å­ Agent çš„ä¿¡æ¯ï¼Œè¿›è¡Œé€»è¾‘æ¨ç†ï¼ˆReasoningï¼‰ï¼Œç”Ÿæˆ Markdown è¡¨æ ¼ã€‚ | ğŸŸ¢ å…¨è‡ªåŠ¨ |\n| **5. æœ€ç»ˆç¡®è®¤** | äººç±»æŸ¥çœ‹æ–¹æ¡ˆï¼Œå¦‚æœä¸æ»¡æ„ï¼Œé‡æ–°æœç´¢ã€‚ | ç”¨æˆ·æŸ¥çœ‹ Agent è¾“å‡ºï¼Œæå‡ºä¿®æ”¹æ„è§ï¼ˆFeedbackï¼‰ï¼ŒAgent åŸºäºä¸Šä¸‹æ–‡é‡æ–°ç”Ÿæˆã€‚ | ğŸŸ¡ äººæœºåä½œ |\n\n**æ˜ å°„é€»è¾‘åˆ†æï¼š**\nè¯¥é¡¹ç›®å°†äººç±»å¤§è„‘ä¸­çš„â€œè§„åˆ’é€»è¾‘â€æ˜ å°„ä¸º **Planner Agent** çš„ System Promptï¼›å°†äººç±»çš„æ‰‹å’Œçœ¼ï¼ˆæœç´¢å’Œé˜…è¯»ï¼‰æ˜ å°„ä¸º **Sub-Agents** å’Œ **Tools**ã€‚åŸæœ¬äººç±»å¤§è„‘ä¸­çš„â€œéšæ€§çŸ¥è¯†â€ï¼ˆå¦‚ï¼šè®¢é…’åº—è¦çœ‹ç¦»åœ°é“è¿‘ä¸è¿‘ï¼‰è¢«æ˜¾æ€§åŒ–ä¸º Agent çš„ `instructions`ã€‚\n\n---\n\n## äºŒã€æ¶æ„è®¾è®¡\n\n### 2.1 æ•´ä½“æ¶æ„\n\nè¯¥é¡¹ç›®é‡‡ç”¨äº†ç»å…¸çš„ **Hub-and-Spoke (è½®è¾å¼)** æˆ– **Team (å›¢é˜Ÿ)** æ¶æ„ã€‚\n\n**ASCII æ¶æ„å›¾ï¼š**\n\n```ascii\n+---------------------------------------------------------------+\n|                      User Interface (UI)                      |\n|            (Streamlit / CLI / REST API Interface)             |\n+-------------------------------+-------------------------------+\n                                | Input: \"Plan a trip to Paris\"\n                                v\n+---------------------------------------------------------------+\n|                  Orchestrator (Travel Planner)                |\n|---------------------------------------------------------------|\n|  Role: Team Leader / Manager                                  |\n|  Responsibility: Intent Decomposition, Delegation, Synthesis  |\n|  Memory: Conversation History (Short-term)                    |\n+---------------+-------------------------------+---------------+\n                | Delegation                    | Delegation\n                v                               v\n+-------------------------------+   +-------------------------------+\n|      Web Search Agent         |   |    Finance/Booking Agent      |\n|-------------------------------|   |-------------------------------|\n| Role: Researcher              |   | Role: Analyst                 |\n| Tools: DuckDuckGo / Exa       |   | Tools: YFinance / Amadeus API |\n+---------------+---------------+   +---------------+---------------+\n                | API Call                      | API Call\n                v                               v\n+---------------------------------------------------------------+\n|                       External World                          |\n|           (Internet, Flight APIs, Hotel Databases)            |\n+---------------------------------------------------------------+\n```\n\n**å±‚çº§èŒè´£è¯¦è§£ï¼š**\n\n1.  **äº¤äº’å±‚ (Interaction Layer)**: è´Ÿè´£æ¥æ”¶ç”¨æˆ·è‡ªç„¶è¯­è¨€è¾“å…¥ã€‚åœ¨ä»£ç ä¸­é€šå¸¸ä½“ç°ä¸º `playground.py` æˆ– Streamlit å‰ç«¯ã€‚\n2.  **ç¼–æ’å±‚ (Orchestration Layer)**: æ ¸å¿ƒå¤§è„‘ã€‚ç”± `Agent(team=[...])` å®šä¹‰ã€‚å®ƒä¸ç›´æ¥å¹²è„æ´»ç´¯æ´»ï¼Œè€Œæ˜¯åˆ¤æ–­ç”¨æˆ·æ„å›¾ã€‚å¦‚æœç”¨æˆ·é—®â€œå»å“ªç©â€ï¼Œå®ƒè°ƒåº¦æœç´¢ Agentï¼›å¦‚æœç”¨æˆ·é—®â€œé¢„ç®—å¤Ÿä¸å¤Ÿâ€ï¼Œå®ƒè°ƒåº¦é‡‘è Agentã€‚\n3.  **æ‰§è¡Œå±‚ (Execution Layer)**: å…·ä½“çš„ Worker Agentsã€‚å®ƒä»¬è¢«èµ‹äºˆäº†ç‰¹å®šçš„ `tools` å’Œ `instructions`ï¼Œä¸“æ³¨äºå•ä¸€é¢†åŸŸä»»åŠ¡ã€‚\n4.  **å·¥å…·å±‚ (Tool Layer)**: å®é™…ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’çš„ä»£ç æ¥å£ï¼ˆPython Functionsï¼‰ï¼Œå¦‚ `search_google(query)`ã€‚\n\n### 2.2 Agent è®¾è®¡\n\né¡¹ç›®ä¸­é€šå¸¸åŒ…å«ä»¥ä¸‹ Agent æ‹†åˆ†ï¼ˆåŸºäº Phidata å¸¸è§æ¨¡å¼ï¼‰ï¼š\n\n| Agent åç§° | èŒè´£ (Role) | å…³ç³» | æ‹†åˆ†åŸå›  (Design Rationale) |\n| :--- | :--- | :--- | :--- |\n| **Travel Planner (Leader)** | **é¡¹ç›®ç»ç†**ã€‚è´Ÿè´£ä¸ç”¨æˆ·å¯¹è¯ï¼Œåˆ†è§£ä»»åŠ¡ï¼Œæ±‡æ€»ç»“æœã€‚ | ä¸Šçº§ | **å…³æ³¨ç‚¹åˆ†ç¦» (SoC)**ã€‚å¦‚æœä¸æ‹†åˆ†ï¼Œä¸€ä¸ª Agent çš„ System Prompt ä¼šè¿‡é•¿ï¼Œå¯¼è‡´ LLM æ³¨æ„åŠ›åˆ†æ•£ï¼ŒæŒ‡ä»¤éµå¾ªèƒ½åŠ›ä¸‹é™ã€‚ |\n| **Web Search Agent** | **ä¿¡æ¯é‡‡é›†å‘˜**ã€‚è´Ÿè´£å¹¿æ³›çš„äº’è”ç½‘æœç´¢ï¼Œå¯»æ‰¾æ™¯ç‚¹ã€æ–‡åŒ–ä¿¡æ¯ã€‚ | ä¸‹çº§ | æœç´¢ä»»åŠ¡é€šå¸¸éœ€è¦å¤„ç†å¤§é‡éç»“æ„åŒ–æ–‡æœ¬ï¼Œéœ€è¦ä¸“é—¨çš„ Prompt æ¥æå–æ‘˜è¦ï¼Œé¿å…æ±¡æŸ“ä¸Šä¸‹æ–‡ã€‚ |\n| **Finance/Hotel Agent** | **æ•°æ®åˆ†æå¸ˆ**ã€‚è´Ÿè´£æŸ¥è¯¢å…·ä½“çš„ä»·æ ¼ã€èˆªç­å·ã€è‚¡ç¥¨ï¼ˆå¦‚æœæ˜¯é€šç”¨æ¼”ç¤ºï¼‰ç­‰ç»“æ„åŒ–æ•°æ®ã€‚ | ä¸‹çº§ | æ­¤ç±»ä»»åŠ¡å¯¹ç²¾ç¡®æ€§è¦æ±‚é«˜ï¼Œé€šå¸¸éœ€è¦è°ƒç”¨ç‰¹å®šçš„ API (å¦‚ Amadeus, Skyscanner æ¨¡æ‹Ÿ)ï¼Œä¸æ¨¡ç³Šçš„æ™¯ç‚¹æœç´¢é€»è¾‘ä¸åŒã€‚ |\n\n### 2.3 ç¼–æ’å±‚ (Orchestrator)\n\n*   **ç¼–æ’é€»è¾‘ä½ç½®**: é€šå¸¸ä½äº `agent_team.py` æˆ–ä¸»å…¥å£æ–‡ä»¶ä¸­ã€‚\n*   **ç¼–æ’æ¨¡å¼**: **å±‚çº§ (Hierarchical) + é¡ºåº (Sequential)**ã€‚\n    *   Phidata çš„ `Team` æ¨¡å¼ä¸‹ï¼ŒLeader Agent æ¥æ”¶åˆ° Query åï¼Œä¼šæ ¹æ®å­ Agent çš„æè¿°ï¼ˆDescription/Roleï¼‰å†³å®šè°ƒç”¨å“ªä¸ª Agentã€‚è¿™æ˜¯ä¸€ç§åŸºäºè¯­ä¹‰è·¯ç”±ï¼ˆSemantic Routingï¼‰çš„åŠ¨æ€ç¼–æ’ã€‚\n*   **æ ¸å¿ƒæµç¨‹**:\n    1.  User è¾“å…¥ -> Leader Agentã€‚\n    2.  Leader Agent åˆ†æ Promptï¼Œå‘ç°éœ€è¦å¤–éƒ¨ä¿¡æ¯ã€‚\n    3.  Leader Agent ç”Ÿæˆä¸€ä¸ªå†…éƒ¨çš„ \"Tool Call\"ï¼Œä½†è¿™ä¸ª Tool å®é™…ä¸Šæ˜¯å¦ä¸€ä¸ª Agentï¼ˆSub-Agentï¼‰ã€‚\n    4.  Sub-Agent æ¿€æ´»ï¼Œæ‰§è¡Œå…¶å†…éƒ¨çš„ Toolsï¼ˆå¦‚æœç´¢ï¼‰ã€‚\n    5.  Sub-Agent å°†ç»“æœè¿”å›ç»™ Leader Agentã€‚\n    6.  Leader Agent æ•´åˆä¿¡æ¯ï¼Œç”Ÿæˆæœ€ç»ˆå›å¤ã€‚\n\n**ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ç§æ–¹å¼ï¼Ÿ**\nç›¸æ¯”äº LangChain çš„ Graphï¼ˆå›¾ï¼‰ç¼–æ’ï¼ŒPhidata çš„ Team æ¨¡å¼æ›´æ¥è¿‘äººç±»å›¢é˜Ÿçš„ç®¡ç†æ¨¡å¼ï¼Œä»£ç å®ç°æ›´ç›´è§‚ï¼ˆPythonicï¼‰ï¼Œä¸”åˆ©ç”¨äº† LLM åŸç”Ÿçš„ Function Calling èƒ½åŠ›æ¥åšè·¯ç”±ï¼Œå‡å°‘äº†ç¡¬ç¼–ç çš„é€»è¾‘åˆ¤æ–­ã€‚\n\n---\n\n## ä¸‰ã€ Agent æ¡†æ¶åˆ†æ\n\n### 3.1 ä½¿ç”¨çš„æ¡†æ¶\n\n*   **æ¡†æ¶**: **Phidata (Agno)** [cite: 1, 2, 3]ã€‚\n*   **ç‰¹ç‚¹**:\n    *   **Agent as Code**: æç®€çš„ Python ç±»å®šä¹‰ï¼Œå¼ºè°ƒä»£ç çš„å¯è¯»æ€§ã€‚\n    *   **Built-in Tooling**: å†…ç½®äº†å¤§é‡ç°æˆçš„å·¥å…·é›†ï¼ˆDuckDuckGo, YFinance, Exa ç­‰ï¼‰ï¼Œå¼€ç®±å³ç”¨ã€‚\n    *   **Storage & Memory**: æä¾›äº†ç®€å•çš„æ•°æ®åº“é›†æˆï¼ˆPostgres/Sqliteï¼‰æ¥å­˜å‚¨å¯¹è¯å†å²ã€‚\n*   **å¯¹æ¯”ä¼˜åŠ£**:\n    *   *vs LangChain*: Phidata æ›´è½»é‡ï¼ŒæŠ½è±¡å±‚çº§æ›´å°‘ï¼Œè°ƒè¯•æ›´å®¹æ˜“ã€‚LangChain åŠŸèƒ½æ›´å…¨ä½†å­¦ä¹ æ›²çº¿é™¡å³­ã€‚\n    *   *vs CrewAI*: CrewAI å¼ºè¡Œæ¨¡æ‹Ÿâ€œè§’è‰²æ‰®æ¼”â€å’Œâ€œè½®å¾ªå¯¹è¯â€ï¼Œæœ‰æ—¶è¿‡äºå†—ä½™ã€‚Phidata æ›´åŠ¡å®ï¼Œä¾§é‡äºâ€œä»»åŠ¡æ‰§è¡Œâ€å’Œâ€œå·¥å…·è°ƒç”¨â€ã€‚\n\n### 3.2 æ¡†æ¶ä½¿ç”¨æƒ…å†µ\n\n*   **ç”¨åˆ°çš„åŠŸèƒ½**:\n    *   `Agent` ç±»ï¼šæ ¸å¿ƒæ„å»ºå—ã€‚\n    *   `Tools` é›†æˆï¼š`DuckDuckGo()`, `ExaTools()` ç­‰ã€‚\n    *   `Team` ç»“æ„ï¼šé€šè¿‡ `team=[agent1, agent2]` å®ç°å¤šæ™ºèƒ½ä½“ã€‚\n    *   `Instructions`ï¼šé€šè¿‡åˆ—è¡¨å½¢å¼æ³¨å…¥ System Promptã€‚\n    *   `Structured Output` (éƒ¨åˆ†é¡¹ç›®ä½¿ç”¨)ï¼šå¼ºåˆ¶è¾“å‡º Pydantic æ¨¡å‹ã€‚\n*   **èŒè´£åˆ†ç¦»**:\n    *   æ¡†æ¶è´Ÿè´£ï¼šLLM çš„ API è¿æ¥ã€ä¸Šä¸‹æ–‡çª—å£ç®¡ç†ã€é‡è¯•æœºåˆ¶ã€å·¥å…·è°ƒç”¨çš„è§£æï¼ˆJSON Parsingï¼‰ã€‚\n    *   ä¸šåŠ¡ä»£ç è´Ÿè´£ï¼šå®šä¹‰ Agent çš„è§’è‰²ï¼ˆPromptï¼‰ã€å®šä¹‰å…·ä½“çš„å·¥å…·å‡½æ•°ï¼ˆTool Logicï¼‰ã€ç¼–æ’ä¸šåŠ¡æµã€‚\n\n---\n\n## å››ã€ Agent å®ç°ç»†èŠ‚\n\n### 4.1 å•ä¸ª Agent çš„ç»“æ„\n\nä¸€ä¸ªå…¸å‹çš„ Phidata Agent ç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆï¼š\n\n```python\n# ä¼ªä»£ç ç¤ºä¾‹\nweb_agent = Agent(\n    name=\"Web Searcher\",           # 1. èº«ä»½æ ‡è¯†\n    role=\"Search for travel info\", # 2. è§’è‰²å®šä¹‰ (System Prompt æ ¸å¿ƒ)\n    model=OpenAIChat(id=\"gpt-4o\"), # 3. å¤§è„‘ (LLM é…ç½®)\n    tools=[DuckDuckGo()],          # 4. æ‰‹è„š (èƒ½åŠ›è¾¹ç•Œ)\n    instructions=[                 # 5. è¡Œä¸ºå‡†åˆ™ (SOP)\n        \"Always include sources\",\n        \"Summarize in bullet points\"\n    ],\n    show_tool_calls=True,          # 6. è°ƒè¯•é…ç½®\n    markdown=True                  # 7. è¾“å‡ºæ ¼å¼\n)\n```\n\n*   **Role**: å†³å®šäº† Agent çš„â€œäººè®¾â€ã€‚\n*   **Tools**: å†³å®šäº† Agent èƒ½â€œåšä»€ä¹ˆâ€ã€‚\n*   **Instructions**: å†³å®šäº† Agent â€œæ€ä¹ˆåšâ€ã€‚\n\n### 4.2 Prompt å·¥ç¨‹\n\nPrompt åœ¨ Phidata ä¸­è¢«æ‹†åˆ†ä¸º `role` å’Œ `instructions`ã€‚\n\n*   **Instructions ç»“æ„**: é€šå¸¸æ˜¯ä¸€ä¸ª Python å­—ç¬¦ä¸²åˆ—è¡¨ã€‚æ¡†æ¶ä¼šåœ¨è¿è¡Œæ—¶å°†å…¶æ‹¼æ¥å¹¶æ³¨å…¥åˆ° System Message ä¸­ã€‚\n*   **Prompt äº®ç‚¹ (å€¼å¾—å­¦ä¹ )**:\n    1.  **çº¦æŸæ€§æŒ‡ä»¤**: `\"Always include sources\"`ï¼ˆå¼ºåˆ¶å¼•ç”¨æ¥æºï¼Œå¢åŠ å¯ä¿¡åº¦ï¼‰ã€‚\n    2.  **æ ¼å¼åŒ–æŒ‡ä»¤**: `\"Use tables to display data\"`ï¼ˆå¼ºåˆ¶ç»“æ„åŒ–å±•ç¤ºï¼Œä¾¿äºç”¨æˆ·é˜…è¯»ï¼‰ã€‚\n    3.  **å¦å®šæŒ‡ä»¤**: `\"Do not invent information\"`ï¼ˆå‡å°‘å¹»è§‰ï¼‰ã€‚\n    4.  **æ€ç»´é“¾æŒ‡ä»¤**: `\"Think step by step before answering\"`ï¼ˆæ¿€å‘ CoT èƒ½åŠ›ï¼Œæé«˜è§„åˆ’å‡†ç¡®æ€§ï¼‰ã€‚\n    5.  **ä¸Šä¸‹æ–‡æŒ‡ä»¤**: `\"Always mention the timeframe and location provided by the user\"`ï¼ˆç¡®ä¿å›ç­”ä¸åé¢˜ï¼‰ã€‚\n\n**åŸå› åˆ†æ**: è¿™äº›æŒ‡ä»¤ç›´æ¥å¯¹åº”ä¸šåŠ¡éœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œåœ¨æ—…è¡Œè§„åˆ’ä¸­ï¼Œç”¨æˆ·æœ€æ€•â€œå‡å¤§ç©ºâ€çš„å»ºè®®ï¼Œå› æ­¤â€œå¼•ç”¨æ¥æºâ€å’Œâ€œè¡¨æ ¼å±•ç¤ºâ€æ˜¯æå‡ç”¨æˆ·ä½“éªŒçš„å…³é”®ã€‚\n\n### 4.3 å·¥å…· (Tools)\n\n*   **å®šä¹‰æ–¹å¼**: Python å‡½æ•°æˆ–ç±»æ–¹æ³•ï¼Œé€šè¿‡è£…é¥°å™¨æˆ–ç›´æ¥ä¼ é€’ç»™ Agentã€‚\n*   **å…³è”æ–¹å¼**: `tools=[ToolClass()]`ã€‚LLM ä¼šè¯»å–å·¥å…·çš„å‡½æ•°åã€å‚æ•°ç±»å‹ï¼ˆType Hintsï¼‰å’Œæ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆDocstringï¼‰æ¥ç†è§£å¦‚ä½•è°ƒç”¨ã€‚\n*   **è¾“å…¥è¾“å‡ºè®¾è®¡**:\n    *   *è¾“å…¥*: å¼ºç±»å‹çš„å‚æ•°ï¼ˆå¦‚ `query: str`, `max_results: int`ï¼‰ã€‚è¿™åˆ©ç”¨äº† Pydantic çš„éªŒè¯èƒ½åŠ›ï¼Œç¡®ä¿ LLM ä¼ å‚æ­£ç¡®ã€‚\n    *   *è¾“å‡º*: é€šå¸¸æ˜¯ JSON å­—ç¬¦ä¸²æˆ–çº¯æ–‡æœ¬ã€‚Agent ä¼šè¯»å–è¿™ä¸ªè¾“å‡ºå¹¶å°†å…¶è½¬åŒ–ä¸ºè‡ªç„¶è¯­è¨€å›å¤ç»™ç”¨æˆ·ã€‚\n\n---\n\n## äº”ã€ ä¸Šä¸‹æ–‡ç®¡ç†\n\n### 5.1 ä¸Šä¸‹æ–‡ä¼ é€’\n\n*   **ä¼ é€’æœºåˆ¶**: åœ¨ `Agent(team=[...])` æ¨¡å¼ä¸‹ï¼ŒPhidata ç»´æŠ¤ä¸€ä¸ªå…±äº«çš„ `messages` åˆ—è¡¨ï¼ˆChat Historyï¼‰ã€‚\n*   **æµç¨‹**:\n    1.  ç”¨æˆ·å‘æ¶ˆæ¯ -> æ·»åŠ åˆ° Historyã€‚\n    2.  Leader Agent æ€è€ƒ -> äº§ç”Ÿ Tool Call (è°ƒç”¨ Sub-Agent) -> æ·»åŠ åˆ° Historyã€‚\n    3.  Sub-Agent æ‰§è¡Œ -> äº§ç”Ÿ Result -> æ·»åŠ åˆ° Historyã€‚\n    4.  Leader Agent è¯»å–å®Œæ•´ History (åŒ…å« Sub-Agent çš„ç»“æœ) -> ç”Ÿæˆæœ€ç»ˆå›å¤ã€‚\n*   **è¶…é•¿å¤„ç†**: Phidata å†…ç½®äº†ä¸Šä¸‹æ–‡å‹ç¼©æˆ–æ»‘åŠ¨çª—å£æœºåˆ¶ï¼ˆå–å†³äºé…ç½®ï¼‰ï¼Œä½†åœ¨ç®€å• Demo ä¸­é€šå¸¸ä¾èµ– LLM çš„é•¿çª—å£ï¼ˆå¦‚ GPT-4o çš„ 128k contextï¼‰ã€‚\n\n### 5.2 ä¸Šä¸‹æ–‡å­˜å‚¨\n\n*   **è¿è¡Œæ—¶**: å†…å­˜ (RAM)ã€‚\n*   **æŒä¹…åŒ–**: Phidata æ”¯æŒ `PgAgentStorage` (PostgreSQL) æˆ– `SqliteAgentStorage`ã€‚\n    *   *å®ç°*: åœ¨åˆå§‹åŒ– Agent æ—¶ä¼ å…¥ `storage` å‚æ•°ã€‚\n    *   *ä½œç”¨*: å…è®¸ç”¨æˆ·å…³é—­ç½‘é¡µåï¼Œä¸‹æ¬¡å›æ¥è¿˜èƒ½ç»§ç»­ä¹‹å‰çš„æ—…è¡Œè§„åˆ’å¯¹è¯ã€‚\n\n### 5.3 å¤šæ¨¡æ€\n\n*   è™½ç„¶è¯¥é¡¹ç›®ä¸»è¦åŸºäºæ–‡æœ¬ï¼Œä½†å¦‚æœä½¿ç”¨äº† `gpt-4o` ä¸”å¯ç”¨äº†ç›¸å…³å·¥å…·ï¼ŒAgent å¯ä»¥å¤„ç†å›¾ç‰‡ï¼ˆä¾‹å¦‚ç”¨æˆ·ä¸Šä¼ ä¸€å¼ é£æ™¯å›¾é—®â€œè¿™æ˜¯å“ªé‡Œï¼Œå¸®æˆ‘è§„åˆ’å»è¿™é‡Œçš„è¡Œç¨‹â€ï¼‰ã€‚Phidata æ¡†æ¶åŸç”Ÿæ”¯æŒå¤šæ¨¡æ€è¾“å…¥ã€‚\n\n---\n\n## å…­ã€ å¤–éƒ¨ä¾èµ–\n\n### 6.1 å¤–éƒ¨ API\n\n| API åç§° | ä½œç”¨ | Key ç®¡ç† |\n| :--- | :--- | :--- |\n| **OpenAI API** | æä¾›æ¨ç†æ ¸å¿ƒ (LLM)ã€‚ | ç¯å¢ƒå˜é‡ `OPENAI_API_KEY` |\n| **DuckDuckGo Search** | å…è´¹çš„é€šç”¨ç½‘é¡µæœç´¢ã€‚ | æ— éœ€ Key (é€šå¸¸) |\n| **Exa (Metaphor)** | ä¸“ä¸º AI è®¾è®¡çš„ç¥ç»æœç´¢ APIï¼Œæ“…é•¿ç†è§£è¯­ä¹‰ã€‚ | ç¯å¢ƒå˜é‡ `EXA_API_KEY` |\n| **Amadeus/SerpApi** | (å¯é€‰) å…·ä½“çš„èˆªç­/é…’åº—æ•°æ®æºã€‚ | ç¯å¢ƒå˜é‡ |\n\n### 6.2 LLM é…ç½®\n\n*   **æ¨¡å‹**: é»˜è®¤é€šå¸¸ä½¿ç”¨ `gpt-4o` æˆ– `gpt-4-turbo`ï¼Œå› ä¸ºè§„åˆ’ä»»åŠ¡éœ€è¦è¾ƒå¼ºçš„æ¨ç†èƒ½åŠ› (Reasoning)ã€‚\n*   **è·¯ç”±**: ä»£ç é€šå¸¸ç›´æ¥è°ƒç”¨ `phi.model.openai`ï¼Œä½†ä¹Ÿæ”¯æŒ `phi.model.groq` (ä½¿ç”¨ Llama 3) ä»¥é™ä½æˆæœ¬æˆ–æé«˜é€Ÿåº¦ [cite: 1, 4]ã€‚\n*   **å‚æ•°**: `temperature` é€šå¸¸è®¾ç½®è¾ƒä½ (0.1 - 0.3) ä»¥ä¿è¯å·¥å…·è°ƒç”¨çš„ç¨³å®šæ€§ï¼›æˆ–è€…åœ¨ç”Ÿæˆåˆ›æ„è¡Œç¨‹æ—¶åŠ¨æ€è°ƒé«˜ã€‚\n\n---\n\n## ä¸ƒã€ åŸºç¡€è®¾æ–½\n\n### 7.1 æ—¥å¿—\n\n*   **åº“**: Phidata å†…ç½®æ—¥å¿—ç³»ç»Ÿï¼Œé€šå¸¸åŸºäº Python æ ‡å‡† `logging` åº“ã€‚\n*   **å®è·µ**: å¼€å¯ `show_tool_calls=True`ã€‚è¿™ä¼šåœ¨æ§åˆ¶å°æ‰“å°å‡º `Running: search_google(query=\"Paris hotels\")`ã€‚è¿™å¯¹äºå¼€å‘è€…è°ƒè¯• Agent çš„æ€ç»´è¿‡ç¨‹è‡³å…³é‡è¦ã€‚\n\n### 7.2 é”™è¯¯å¤„ç†\n\n*   **é‡è¯•**: LLM ç”Ÿæˆçš„ JSON æ ¼å¼é”™è¯¯æ—¶ï¼ŒPhidata ä¼šè‡ªåŠ¨å°†é”™è¯¯ä¿¡æ¯åé¦ˆç»™ LLMï¼Œè¦æ±‚å…¶é‡è¯•ï¼ˆSelf-Correctionï¼‰ã€‚\n*   **å¼‚å¸¸æ•è·**: å·¥å…·å‡½æ•°å†…éƒ¨é€šå¸¸åŒ…è£¹ `try-except` å—ï¼Œè¿”å›å­—ç¬¦ä¸²å½¢å¼çš„é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚ \"Search failed, please try again\"ï¼‰ï¼Œè€Œä¸æ˜¯è®©ç¨‹åºå´©æºƒã€‚è¿™æ · Agent å¯ä»¥çœ‹åˆ°é”™è¯¯å¹¶å°è¯•å…¶ä»–æ–¹æ¡ˆã€‚\n\n### 7.3 çŠ¶æ€ç®¡ç†\n\n*   **ä»»åŠ¡çŠ¶æ€**: åœ¨ç®€å•çš„ Request-Response æ¨¡å¼ä¸­ï¼ŒçŠ¶æ€ç”±å¯¹è¯å†å²ç»´æŒã€‚\n*   **å‰ç«¯è¿›åº¦**: å¦‚æœä½¿ç”¨ Streamlitï¼Œé€šè¿‡ `st.write_stream` æˆ– `st.status` ç»„ä»¶å®æ—¶å±•ç¤º Agent çš„æ€è€ƒè¿‡ç¨‹ï¼ˆå¦‚ \"æ­£åœ¨æœç´¢èˆªç­...\"ï¼‰ã€‚\n\n---\n\n## å…«ã€ è¾“å…¥è¾“å‡ºå¤„ç†\n\n### 8.1 è¾“å…¥å¤„ç†\n\n*   **æ ¼å¼**: çº¯æ–‡æœ¬å­—ç¬¦ä¸²ã€‚\n*   **è§„èŒƒåŒ–**: ä¾èµ– LLM çš„ç†è§£èƒ½åŠ›ã€‚ä¸éœ€è¦ä¼ ç»Ÿçš„ NLP é¢„å¤„ç†ï¼ˆåˆ†è¯ã€æ­£åˆ™ï¼‰ã€‚Prompt ä¸­çš„ `instructions` èµ·åˆ°äº†â€œè½¯æ€§è§„èŒƒåŒ–â€çš„ä½œç”¨ã€‚\n\n### 8.2 è¾“å‡ºå¤„ç†\n\n*   **åŸå§‹è¾“å‡º**: LLM ç”Ÿæˆçš„ Markdown æ–‡æœ¬ã€‚\n*   **ç»“æ„åŒ–æ•°æ®**: å¦‚æœéœ€è¦å¯¹æ¥åç«¯ç³»ç»Ÿï¼ˆå¦‚ç›´æ¥ä¸‹å•ï¼‰ï¼ŒAgent å¯ä»¥é…ç½® `response_model` (Pydantic)ï¼Œå¼ºåˆ¶ LLM è¾“å‡º JSON æ ¼å¼çš„è®¢å•è¯¦æƒ…ï¼Œè€Œä¸æ˜¯è‡ªç„¶è¯­è¨€ã€‚\n\n---\n\n## ä¹ã€ é¡¹ç›®ç‰¹è‰²\n\n### 9.1 åˆ›æ–°ç‚¹\n\n1.  **Team æ¨¡å¼çš„æç®€å®ç°**: ç”¨æå°‘çš„ä»£ç ï¼ˆå‡ åè¡Œï¼‰å®ç°äº†å¤æ‚çš„å¤šæ™ºèƒ½ä½“åä½œã€‚\n2.  **å·¥å…·å³ Agent (Tool as Agent)**: å°†ä¸€ä¸ª Agent åŒ…è£…æˆå¦ä¸€ä¸ª Agent çš„å·¥å…·ï¼Œå®ç°äº†æ— é™å±‚çº§çš„åµŒå¥—èƒ½åŠ›ã€‚\n3.  **æ··åˆæœç´¢ç­–ç•¥**: ç»“åˆäº†é€šç”¨æœç´¢ (DuckDuckGo) å’Œå‚ç›´æœç´¢ (Exa/Amadeus)ï¼Œå…¼é¡¾äº†å¹¿åº¦å’Œæ·±åº¦ã€‚\n\n### 9.2 ä¸è¶³ä¹‹å¤„\n\n1.  **ç¼ºä¹ç¡®å®šæ€§**: åŒæ ·çš„ Prompt å¯èƒ½æ¯æ¬¡ç”Ÿæˆçš„è¡Œç¨‹æ ¼å¼ä¸ä¸€æ ·ã€‚\n2.  **å¹»è§‰é£é™©**: å¦‚æœæœç´¢ç»“æœä¸ºç©ºï¼ŒAgent å¯èƒ½ä¼šç¼–é€ æ™¯ç‚¹ã€‚éœ€è¦æ›´å¼ºçš„ `Grounding` æœºåˆ¶ã€‚\n3.  **æˆæœ¬æ§åˆ¶**: å¤š Agent æ„å‘³ç€å¤šæ¬¡ LLM è°ƒç”¨ï¼ŒToken æ¶ˆè€—é‡å¤§ã€‚\n\n---\n\n## åã€ å­¦ä¹ æ€»ç»“ä¸å¼€å‘å»ºè®®\n\n### 10.1 æ ¸å¿ƒæ”¶è·\n\n1.  **Prompt æ˜¯ä»£ç çš„ä¸€éƒ¨åˆ†**: åœ¨ Agent å¼€å‘ä¸­ï¼ŒPrompt ä¸å†æ˜¯é…ç½®ï¼Œè€Œæ˜¯æ ¸å¿ƒé€»è¾‘ã€‚ä½ éœ€è¦åƒå†™ä»£ç ä¸€æ ·å»ç‰ˆæœ¬æ§åˆ¶ã€æµ‹è¯•ä½ çš„ Promptã€‚\n2.  **å·¥å…·å®šä¹‰å†³å®šèƒ½åŠ›ä¸Šé™**: Agent èªä¸èªæ˜çœ‹ LLMï¼Œèƒ½ä¸èƒ½å¹²æ´»çœ‹ Toolsã€‚å®šä¹‰æ¸…æ™°ã€å‚æ•°æ˜ç¡®çš„å·¥å…·å‡½æ•°æ˜¯æˆåŠŸçš„å…³é”®ã€‚\n3.  **åˆ†å±‚æ¶æ„çš„é‡è¦æ€§**: ä¸è¦è¯•å›¾ç”¨ä¸€ä¸ª Agent åšæ‰€æœ‰äº‹ã€‚å°†â€œè§„åˆ’â€å’Œâ€œæ‰§è¡Œâ€åˆ†å¼€ï¼Œå°†â€œæœç´¢â€å’Œâ€œè®¡ç®—â€åˆ†å¼€ã€‚\n\n### 10.2 å¯å¤ç”¨æ¨¡å¼\n\n*   **Manager-Worker æ¨¡å¼**: ä¸€ä¸ªä¸» Agent è´Ÿè´£æ´¾å•ï¼Œå¤šä¸ªä» Agent è´Ÿè´£æ¥å•ã€‚\n*   **RAG-Tool æ¨¡å¼**: å…ˆç”¨å·¥å…·æœç´¢ï¼ˆRetrievalï¼‰ï¼Œå†ç”¨ LLM ç”Ÿæˆï¼ˆGenerationï¼‰ã€‚\n*   **Self-Correction æ¨¡å¼**: åœ¨ Prompt ä¸­è¦æ±‚ Agent æ£€æŸ¥è‡ªå·±çš„è¾“å‡ºï¼ˆ\"Check if the budget exceeds the limit\"ï¼‰ã€‚\n\n### 10.3 å¯¹ä½ å¼€å‘â€œä¸šåŠ¡åœºæ™¯ Agentâ€çš„å¯å‘\n\nå¦‚æœä½ è¦å¼€å‘ä¸€ä¸ªé¢å‘ä¸šåŠ¡ï¼ˆå¦‚ä¼ä¸šé‡‡è´­ã€å®¢æˆ·æœåŠ¡ï¼‰çš„ Agentï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š\n\n1.  **SOP æ˜¾æ€§åŒ–**: æŠŠä½ ç°åœ¨çš„ä¸šåŠ¡æµç¨‹å›¾ï¼ˆSOPï¼‰æ‹¿å‡ºæ¥ï¼Œæ¯ä¸€ä¸ªåˆ¤æ–­èŠ‚ç‚¹ï¼ˆDecision Nodeï¼‰å˜æˆ Manager Agent çš„ä¸€æ¡ Instructionã€‚\n2.  **API å·¥å…·åŒ–**: æŠŠä½ ä¸šåŠ¡ç³»ç»Ÿä¸­çš„ APIï¼ˆæŸ¥è¯¢åº“å­˜ã€åˆ›å»ºè®¢å•ï¼‰å°è£…æˆ Python å‡½æ•°ï¼Œå¹¶å†™å¥½è¯¦ç»†çš„ Docstringã€‚\n3.  **çŠ¶æ€æµè½¬**: æ¨¡ä»¿è¯¥é¡¹ç›®çš„ `Team` ç»“æ„ã€‚\n    *   ç”¨æˆ· -> **ä¸šåŠ¡ç»ç† Agent** (è´Ÿè´£æ„å›¾è¯†åˆ«ï¼šæ˜¯æŸ¥åº“å­˜è¿˜æ˜¯ä¸‹å•ï¼Ÿ)\n    *   ä¸šåŠ¡ç»ç† -> **åº“å­˜ Agent** (è°ƒç”¨ ERP æ¥å£)\n    *   ä¸šåŠ¡ç»ç† -> **è®¢å• Agent** (è°ƒç”¨ CRM æ¥å£)\n4.  **é˜²å¾¡æ€§ Prompt**: åœ¨ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå‡†ç¡®æ€§é«˜äºåˆ›é€ æ€§ã€‚ä½ çš„ Prompt å¿…é¡»åŒ…å«å¤§é‡çš„â€œè´Ÿé¢çº¦æŸâ€ï¼ˆå¦‚ï¼šâ€œå¦‚æœåº“å­˜ä¸è¶³ï¼Œç»å¯¹ä¸è¦è‡ªè¡Œæ‰¿è¯ºå‘è´§æ—¶é—´ï¼Œå¿…é¡»è¿”å›é”™è¯¯â€ï¼‰ã€‚\n\n### 10.4 ç‹¬ç‰¹çš„äº®ç‚¹è®¾è®¡\n\nè¯¥é¡¹ç›®æœ€å·§å¦™çš„è®¾è®¡åœ¨äº **\"Show, don't tell\" çš„è°ƒè¯•æœºåˆ¶** (`show_tool_calls=True`)ã€‚åœ¨ä¸šåŠ¡å¼€å‘ä¸­ï¼Œè¿™å…è®¸ä¸šåŠ¡äººå‘˜ç›´æ¥çœ‹åˆ° AI åˆ°åº•è°ƒç”¨äº†å“ªä¸ªå·¥å…·ã€ä¼ äº†ä»€ä¹ˆå‚æ•°ï¼Œæå¤§åœ°é™ä½äº†â€œAI é»‘ç›’â€å¸¦æ¥çš„ä¿¡ä»»å±æœºã€‚è¿™å¯¹äºä¼ä¸šçº§åº”ç”¨ä¸Šçº¿è‡³å…³é‡è¦ã€‚\n\n---\n\n**å‚è€ƒèµ„æ–™**:\n[cite: 1, 2, 3, 4, 5, 6]\n\n**Sources:**\n1. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGULoTr57KxhCxNZFrtF5sygLKU9TCIHDUKKz07wZeFRMZrp8bOVikUvjQX2H5bcGr9otqHnMYhxuR9HdGx6sSIDoGUvHdBvWR74s5QXpVxJhxuyQXv9A4qUlmvukcFqyuVZ0nRbZrnzzoIJjU9Gz_aB-kCQ5UMkJVvBHCb1AuW5o7-xShtbYKMSxBoa7K7NawTt84ifM-y3yS9tQ==)\n2. [phidata.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQHrm6vkElwygFlxWXKfh_RcuOGHw3ZShTjuf3Okd4ijMyMLfKRNCE5qr3jHJ1YXcNupoa6yeKhxp46RXPUjs6UPDuOghBJ_J9yY97Rc_jswvvxWOe5Q_iNqiKvElqJmeajbzfHS6Dle0vQ=)\n3. [phidata.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFolE948QBk6aNXkT08AxgUSYSxyYnuyAw3qyEPOaqig3XvCAymK4tZ3C9RvC3iR3eaGR0H0cLliTp9v4ILbb6kLIJHlxj5UrYAhUTr42f3QMThfleNfMq8QtZA)\n4. [hackernoon.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFxqoa0HPzOsaLZRXJJsZA9AQteipsyillXUkCm9weSBon-6eruHh6d3xTV0YLo2HLXyp-Rjd-ngUgSh8EdSX-nks7odbXdyXXdfH4-uiOM2g6g1c8RGU2cN1AdQI5WTDNMthYQgzCVHkCm5ym3UQA3A1D01QuiWDjf8nSTOpVHk44vqqDlPTY8n0-8N7ZqvtPI)\n5. [phidata.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQE7YitBVOg9RV2-C_Q3bBtM7KXzC7dQpeKSG3QgaOehprYAS5rd8w4ROdPGowERXkT9KWurPt3_bWl-SkOnykIaCyKvc5YyLVFXfrMR2EfNJwlYlZYmoMMV1G8PjuV78IhPfcT-SEg281HnyIE=)\n6. [Link](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQHkufo45dwWcZ8ayFPYfEc3Q43b-x_fdM23B05G4m5D8eplZD8NH4uY7x4gee14rwDlsfAriaGU9DQZQtUbS9nrhZ9KgH4UT6tu2W9boMcmuTHmRH6CV_zhJxGOsSV5sC_Dtvq8D33AslWj3ZmCa93ZeCejjZyQMx_iaYgdso00YhmzH7G-pWx0hZNXh1yL4TePISXgww==)\n",
  "outputs": [
    {
      "type": "text",
      "text": "# AI Agent æ·±åº¦è§£ææŠ¥å‘Šï¼šåŸºäº Phidata çš„ AI æ—…è¡Œè§„åˆ’å›¢é˜Ÿ (AI Travel Planner Agent Team)\n\n## æ ¸å¿ƒæ‘˜è¦\næœ¬æŠ¥å‘Šé’ˆå¯¹ GitHub é¡¹ç›® `awesome-llm-apps` ä¸­çš„ `ai_travel_planner_agent_team` è¿›è¡Œæ·±åº¦è§£æ„ã€‚è¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªå…¸å‹çš„**å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿ (Multi-Agent System)**ï¼ŒåŸºäº **Phidata (ç°æ›´åä¸º Agno)** æ¡†æ¶æ„å»ºã€‚\n\n**æ ¸å¿ƒç»“è®ºï¼š**\n1.  **ä¸šåŠ¡ä»·å€¼**ï¼šè¯¥é¡¹ç›®å±•ç¤ºäº†å¦‚ä½•å°†å¤æ‚çš„éç»“æ„åŒ–éœ€æ±‚ï¼ˆå¦‚â€œå¸®æˆ‘è§„åˆ’å»å·´é»çš„æ—…è¡Œâ€ï¼‰è½¬åŒ–ä¸ºç»“æ„åŒ–çš„æ‰§è¡Œæ­¥éª¤ï¼ˆæœç´¢èˆªç­ã€æŸ¥è¯¢é…’åº—ã€ç”Ÿæˆè¡Œç¨‹ï¼‰ï¼Œæå¤§åœ°å‡å°‘äº†äººç±»åœ¨ä¸åŒå¹³å°é—´åˆ‡æ¢å’Œæ±‡æ€»ä¿¡æ¯çš„æ—¶é—´ã€‚\n2.  **æ¶æ„æ¨¡å¼**ï¼šé‡‡ç”¨ **â€œä¸»ç®¡-ä¸“å®¶â€ (Manager-Expert)** çš„å±‚çº§ç¼–æ’æ¨¡å¼ã€‚ä¸€ä¸ªæ ¸å¿ƒçš„ç¼–æ’ Agentï¼ˆPlannerï¼‰è´Ÿè´£ç†è§£æ„å›¾å¹¶åˆ†å‘ä»»åŠ¡ï¼Œåº•å±‚çš„ä¸“å®¶ Agentï¼ˆWeb Searcher, Finance/Booking Agentï¼‰è´Ÿè´£å…·ä½“æ‰§è¡Œã€‚\n3.  **æŠ€æœ¯äº®ç‚¹**ï¼šå……åˆ†åˆ©ç”¨äº† LLM çš„ **Function Calling (å·¥å…·è°ƒç”¨)** èƒ½åŠ›ï¼Œå°†è‡ªç„¶è¯­è¨€æŒ‡ä»¤è½¬åŒ–ä¸ºå…·ä½“çš„ API æ“ä½œã€‚å…¶ Prompt è®¾è®¡å¼ºè°ƒäº†â€œè§’è‰²æ‰®æ¼”â€ä¸â€œè¾“å‡ºæ ¼å¼æ§åˆ¶â€ï¼Œæ˜¯ä¸šåŠ¡å‹ Agent å¼€å‘çš„æ•™ç§‘ä¹¦å¼æ¡ˆä¾‹ã€‚\n4.  **é€‚ç”¨æ€§**ï¼šè¯¥æ¶æ„éå¸¸é€‚åˆä¸šåŠ¡æµç¨‹æ¸…æ™°ã€éœ€è¦è°ƒç”¨å¤šä¸ªå¤–éƒ¨æ•°æ®æºçš„åœºæ™¯ï¼ˆå¦‚ä¼ä¸šé‡‡è´­åŠ©æ‰‹ã€è‡ªåŠ¨åŒ–è¿ç»´è¯Šæ–­ã€é‡‘èç ”æŠ¥ç”Ÿæˆï¼‰ã€‚\n\n---\n\n## ä¸€ã€é¡¹ç›®æ•´ä½“ç†è§£\n\n### 1.1 ä¸šåŠ¡åœºæ™¯\n\n| ç»´åº¦ | è¯¦ç»†è¯´æ˜ |\n| :--- | :--- |\n| **è§£å†³çš„é—®é¢˜** | è§£å†³æ—…è¡Œè§„åˆ’ä¸­ä¿¡æ¯ç¢ç‰‡åŒ–ã€å†³ç­–é“¾è·¯é•¿ã€å¤šå¹³å°æ¯”ä»·ç¹ççš„é—®é¢˜ã€‚ä¼ ç»Ÿè§„åˆ’éœ€è¦ç”¨æˆ·æ‰‹åŠ¨èšåˆèˆªç­ã€é…’åº—ã€æ™¯ç‚¹ä¿¡æ¯ï¼Œè€—æ—¶ä¸”å®¹æ˜“é—æ¼ã€‚ |\n| **ç›®æ ‡ç”¨æˆ·** | éœ€è¦åˆ¶å®šå¤æ‚è¡Œç¨‹çš„ä¸ªäººæ—…è¡Œè€…ã€å•†åŠ¡å‡ºå·®äººå£«ï¼Œä»¥åŠå¸Œæœ›æä¾›è‡ªåŠ¨åŒ–æœåŠ¡çš„åœ¨çº¿æ—…è¡Œç¤¾ (OTA) åç«¯ç³»ç»Ÿã€‚ |\n| **æ ¸å¿ƒä»·å€¼** | **è‡ªåŠ¨åŒ–ä¿¡æ¯èšåˆä¸å†³ç­–è¾…åŠ©**ã€‚Agent ä¸ä»…æ˜¯æœç´¢ä¿¡æ¯ï¼Œè¿˜èƒ½æ ¹æ®ç”¨æˆ·çš„åå¥½ï¼ˆé¢„ç®—ã€æ—¶é—´ã€å…´è¶£ï¼‰è¿›è¡Œæ¨ç†å’Œè¿‡æ»¤ï¼Œç›´æ¥è¾“å‡ºå¯æ‰§è¡Œçš„æ–¹æ¡ˆï¼Œå°†â€œæœç´¢å·¥å…·â€å‡çº§ä¸ºâ€œè§£å†³æ–¹æ¡ˆæä¾›è€…â€ã€‚ |\n\n### 1.2 äººç±»æµç¨‹å¯¹æ¯”\n\nåœ¨å¼€å‘ä¸šåŠ¡ Agent æ—¶ï¼Œæœ€å…³é”®çš„ä¸€æ­¥æ˜¯**å·¥ä½œæµæ˜ å°„ (Workflow Mapping)**ã€‚ä»¥ä¸‹æ˜¯äººç±»æ‰‹å·¥æ“ä½œä¸ Agent è‡ªåŠ¨åŒ–æµç¨‹çš„æ·±åº¦å¯¹æ¯”ï¼š\n\n| æ­¥éª¤ | äººç±»æ‰‹å·¥æµç¨‹ (As-Is) | Agent è‡ªåŠ¨åŒ–æµç¨‹ (To-Be) | è‡ªåŠ¨åŒ–ç¨‹åº¦ |\n| :--- | :--- | :--- | :--- |\n| **1. æ„å›¾ç†è§£** | å¤§è„‘æ€è€ƒï¼šâ€œæˆ‘æƒ³å»ä¼¦æ•¦ç©5å¤©ï¼Œé¢„ç®—2ä¸‡ã€‚â€ | **Orchestrator Agent** è§£æ Promptï¼Œæå–å®ä½“ï¼ˆåœ°ç‚¹ï¼šä¼¦æ•¦ï¼Œæ—¶é—´ï¼š5å¤©ï¼Œé¢„ç®—ï¼š20kï¼‰ã€‚ | ğŸŸ¢ å…¨è‡ªåŠ¨ |\n| **2. ä¿¡æ¯è·å–** | æ‰“å¼€ Google/æºç¨‹ï¼Œåˆ†åˆ«æœç´¢èˆªç­ã€é…’åº—ã€æ”»ç•¥ã€‚éœ€è¦åœ¨å¤šä¸ªæµè§ˆå™¨æ ‡ç­¾é¡µåˆ‡æ¢ã€‚ | **Web Search Agent** å¹¶è¡Œæˆ–ä¸²è¡Œè°ƒç”¨æœç´¢å·¥å…· (å¦‚ Exa/DuckDuckGo)ï¼Œæ‰¹é‡è·å–æ•°æ®ã€‚ | ğŸŸ¢ å…¨è‡ªåŠ¨ |\n| **3. æ•°æ®æ¸…æ´—** | äººçœ¼é˜…è¯»ç½‘é¡µï¼Œè¿‡æ»¤å¹¿å‘Šï¼Œå¯»æ‰¾ä»·æ ¼å’Œè¯„åˆ†ï¼Œæ‰‹åŠ¨è®°å½•åˆ° Excel æˆ–å¤‡å¿˜å½•ã€‚ | LLM è¯»å–å·¥å…·è¿”å›çš„ JSON/æ–‡æœ¬ï¼Œæ ¹æ® Prompt ä¸­çš„ `instructions` æå–å…³é”®å­—æ®µï¼ˆä»·æ ¼ã€è¯„åˆ†ï¼‰ã€‚ | ğŸŸ¢ å…¨è‡ªåŠ¨ |\n| **4. æ–¹æ¡ˆæ•´åˆ** | å¯¹æ¯”èˆªç­æ—¶é—´ä¸é…’åº—ä½ç½®ï¼Œçœ‹æ˜¯å¦å†²çªï¼Œæ‰‹åŠ¨è°ƒæ•´è¡Œç¨‹ã€‚ | **Planner Agent** æ±‡æ€»å„å­ Agent çš„ä¿¡æ¯ï¼Œè¿›è¡Œé€»è¾‘æ¨ç†ï¼ˆReasoningï¼‰ï¼Œç”Ÿæˆ Markdown è¡¨æ ¼ã€‚ | ğŸŸ¢ å…¨è‡ªåŠ¨ |\n| **5. æœ€ç»ˆç¡®è®¤** | äººç±»æŸ¥çœ‹æ–¹æ¡ˆï¼Œå¦‚æœä¸æ»¡æ„ï¼Œé‡æ–°æœç´¢ã€‚ | ç”¨æˆ·æŸ¥çœ‹ Agent è¾“å‡ºï¼Œæå‡ºä¿®æ”¹æ„è§ï¼ˆFeedbackï¼‰ï¼ŒAgent åŸºäºä¸Šä¸‹æ–‡é‡æ–°ç”Ÿæˆã€‚ | ğŸŸ¡ äººæœºåä½œ |\n\n**æ˜ å°„é€»è¾‘åˆ†æï¼š**\nè¯¥é¡¹ç›®å°†äººç±»å¤§è„‘ä¸­çš„â€œè§„åˆ’é€»è¾‘â€æ˜ å°„ä¸º **Planner Agent** çš„ System Promptï¼›å°†äººç±»çš„æ‰‹å’Œçœ¼ï¼ˆæœç´¢å’Œé˜…è¯»ï¼‰æ˜ å°„ä¸º **Sub-Agents** å’Œ **Tools**ã€‚åŸæœ¬äººç±»å¤§è„‘ä¸­çš„â€œéšæ€§çŸ¥è¯†â€ï¼ˆå¦‚ï¼šè®¢é…’åº—è¦çœ‹ç¦»åœ°é“è¿‘ä¸è¿‘ï¼‰è¢«æ˜¾æ€§åŒ–ä¸º Agent çš„ `instructions`ã€‚\n\n---\n\n## äºŒã€æ¶æ„è®¾è®¡\n\n### 2.1 æ•´ä½“æ¶æ„\n\nè¯¥é¡¹ç›®é‡‡ç”¨äº†ç»å…¸çš„ **Hub-and-Spoke (è½®è¾å¼)** æˆ– **Team (å›¢é˜Ÿ)** æ¶æ„ã€‚\n\n**ASCII æ¶æ„å›¾ï¼š**\n\n```ascii\n+---------------------------------------------------------------+\n|                      User Interface (UI)                      |\n|            (Streamlit / CLI / REST API Interface)             |\n+-------------------------------+-------------------------------+\n                                | Input: \"Plan a trip to Paris\"\n                                v\n+---------------------------------------------------------------+\n|                  Orchestrator (Travel Planner)                |\n|---------------------------------------------------------------|\n|  Role: Team Leader / Manager                                  |\n|  Responsibility: Intent Decomposition, Delegation, Synthesis  |\n|  Memory: Conversation History (Short-term)                    |\n+---------------+-------------------------------+---------------+\n                | Delegation                    | Delegation\n                v                               v\n+-------------------------------+   +-------------------------------+\n|      Web Search Agent         |   |    Finance/Booking Agent      |\n|-------------------------------|   |-------------------------------|\n| Role: Researcher              |   | Role: Analyst                 |\n| Tools: DuckDuckGo / Exa       |   | Tools: YFinance / Amadeus API |\n+---------------+---------------+   +---------------+---------------+\n                | API Call                      | API Call\n                v                               v\n+---------------------------------------------------------------+\n|                       External World                          |\n|           (Internet, Flight APIs, Hotel Databases)            |\n+---------------------------------------------------------------+\n```\n\n**å±‚çº§èŒè´£è¯¦è§£ï¼š**\n\n1.  **äº¤äº’å±‚ (Interaction Layer)**: è´Ÿè´£æ¥æ”¶ç”¨æˆ·è‡ªç„¶è¯­è¨€è¾“å…¥ã€‚åœ¨ä»£ç ä¸­é€šå¸¸ä½“ç°ä¸º `playground.py` æˆ– Streamlit å‰ç«¯ã€‚\n2.  **ç¼–æ’å±‚ (Orchestration Layer)**: æ ¸å¿ƒå¤§è„‘ã€‚ç”± `Agent(team=[...])` å®šä¹‰ã€‚å®ƒä¸ç›´æ¥å¹²è„æ´»ç´¯æ´»ï¼Œè€Œæ˜¯åˆ¤æ–­ç”¨æˆ·æ„å›¾ã€‚å¦‚æœç”¨æˆ·é—®â€œå»å“ªç©â€ï¼Œå®ƒè°ƒåº¦æœç´¢ Agentï¼›å¦‚æœç”¨æˆ·é—®â€œé¢„ç®—å¤Ÿä¸å¤Ÿâ€ï¼Œå®ƒè°ƒåº¦é‡‘è Agentã€‚\n3.  **æ‰§è¡Œå±‚ (Execution Layer)**: å…·ä½“çš„ Worker Agentsã€‚å®ƒä»¬è¢«èµ‹äºˆäº†ç‰¹å®šçš„ `tools` å’Œ `instructions`ï¼Œä¸“æ³¨äºå•ä¸€é¢†åŸŸä»»åŠ¡ã€‚\n4.  **å·¥å…·å±‚ (Tool Layer)**: å®é™…ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’çš„ä»£ç æ¥å£ï¼ˆPython Functionsï¼‰ï¼Œå¦‚ `search_google(query)`ã€‚\n\n### 2.2 Agent è®¾è®¡\n\né¡¹ç›®ä¸­é€šå¸¸åŒ…å«ä»¥ä¸‹ Agent æ‹†åˆ†ï¼ˆåŸºäº Phidata å¸¸è§æ¨¡å¼ï¼‰ï¼š\n\n| Agent åç§° | èŒè´£ (Role) | å…³ç³» | æ‹†åˆ†åŸå›  (Design Rationale) |\n| :--- | :--- | :--- | :--- |\n| **Travel Planner (Leader)** | **é¡¹ç›®ç»ç†**ã€‚è´Ÿè´£ä¸ç”¨æˆ·å¯¹è¯ï¼Œåˆ†è§£ä»»åŠ¡ï¼Œæ±‡æ€»ç»“æœã€‚ | ä¸Šçº§ | **å…³æ³¨ç‚¹åˆ†ç¦» (SoC)**ã€‚å¦‚æœä¸æ‹†åˆ†ï¼Œä¸€ä¸ª Agent çš„ System Prompt ä¼šè¿‡é•¿ï¼Œå¯¼è‡´ LLM æ³¨æ„åŠ›åˆ†æ•£ï¼ŒæŒ‡ä»¤éµå¾ªèƒ½åŠ›ä¸‹é™ã€‚ |\n| **Web Search Agent** | **ä¿¡æ¯é‡‡é›†å‘˜**ã€‚è´Ÿè´£å¹¿æ³›çš„äº’è”ç½‘æœç´¢ï¼Œå¯»æ‰¾æ™¯ç‚¹ã€æ–‡åŒ–ä¿¡æ¯ã€‚ | ä¸‹çº§ | æœç´¢ä»»åŠ¡é€šå¸¸éœ€è¦å¤„ç†å¤§é‡éç»“æ„åŒ–æ–‡æœ¬ï¼Œéœ€è¦ä¸“é—¨çš„ Prompt æ¥æå–æ‘˜è¦ï¼Œé¿å…æ±¡æŸ“ä¸Šä¸‹æ–‡ã€‚ |\n| **Finance/Hotel Agent** | **æ•°æ®åˆ†æå¸ˆ**ã€‚è´Ÿè´£æŸ¥è¯¢å…·ä½“çš„ä»·æ ¼ã€èˆªç­å·ã€è‚¡ç¥¨ï¼ˆå¦‚æœæ˜¯é€šç”¨æ¼”ç¤ºï¼‰ç­‰ç»“æ„åŒ–æ•°æ®ã€‚ | ä¸‹çº§ | æ­¤ç±»ä»»åŠ¡å¯¹ç²¾ç¡®æ€§è¦æ±‚é«˜ï¼Œé€šå¸¸éœ€è¦è°ƒç”¨ç‰¹å®šçš„ API (å¦‚ Amadeus, Skyscanner æ¨¡æ‹Ÿ)ï¼Œä¸æ¨¡ç³Šçš„æ™¯ç‚¹æœç´¢é€»è¾‘ä¸åŒã€‚ |\n\n### 2.3 ç¼–æ’å±‚ (Orchestrator)\n\n*   **ç¼–æ’é€»è¾‘ä½ç½®**: é€šå¸¸ä½äº `agent_team.py` æˆ–ä¸»å…¥å£æ–‡ä»¶ä¸­ã€‚\n*   **ç¼–æ’æ¨¡å¼**: **å±‚çº§ (Hierarchical) + é¡ºåº (Sequential)**ã€‚\n    *   Phidata çš„ `Team` æ¨¡å¼ä¸‹ï¼ŒLeader Agent æ¥æ”¶åˆ° Query åï¼Œä¼šæ ¹æ®å­ Agent çš„æè¿°ï¼ˆDescription/Roleï¼‰å†³å®šè°ƒç”¨å“ªä¸ª Agentã€‚è¿™æ˜¯ä¸€ç§åŸºäºè¯­ä¹‰è·¯ç”±ï¼ˆSemantic Routingï¼‰çš„åŠ¨æ€ç¼–æ’ã€‚\n*   **æ ¸å¿ƒæµç¨‹**:\n    1.  User è¾“å…¥ -> Leader Agentã€‚\n    2.  Leader Agent åˆ†æ Promptï¼Œå‘ç°éœ€è¦å¤–éƒ¨ä¿¡æ¯ã€‚\n    3.  Leader Agent ç”Ÿæˆä¸€ä¸ªå†…éƒ¨çš„ \"Tool Call\"ï¼Œä½†è¿™ä¸ª Tool å®é™…ä¸Šæ˜¯å¦ä¸€ä¸ª Agentï¼ˆSub-Agentï¼‰ã€‚\n    4.  Sub-Agent æ¿€æ´»ï¼Œæ‰§è¡Œå…¶å†…éƒ¨çš„ Toolsï¼ˆå¦‚æœç´¢ï¼‰ã€‚\n    5.  Sub-Agent å°†ç»“æœè¿”å›ç»™ Leader Agentã€‚\n    6.  Leader Agent æ•´åˆä¿¡æ¯ï¼Œç”Ÿæˆæœ€ç»ˆå›å¤ã€‚\n\n**ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ç§æ–¹å¼ï¼Ÿ**\nç›¸æ¯”äº LangChain çš„ Graphï¼ˆå›¾ï¼‰ç¼–æ’ï¼ŒPhidata çš„ Team æ¨¡å¼æ›´æ¥è¿‘äººç±»å›¢é˜Ÿçš„ç®¡ç†æ¨¡å¼ï¼Œä»£ç å®ç°æ›´ç›´è§‚ï¼ˆPythonicï¼‰ï¼Œä¸”åˆ©ç”¨äº† LLM åŸç”Ÿçš„ Function Calling èƒ½åŠ›æ¥åšè·¯ç”±ï¼Œå‡å°‘äº†ç¡¬ç¼–ç çš„é€»è¾‘åˆ¤æ–­ã€‚\n\n---\n\n## ä¸‰ã€ Agent æ¡†æ¶åˆ†æ\n\n### 3.1 ä½¿ç”¨çš„æ¡†æ¶\n\n*   **æ¡†æ¶**: **Phidata (Agno)** [cite: 1, 2, 3]ã€‚\n*   **ç‰¹ç‚¹**:\n    *   **Agent as Code**: æç®€çš„ Python ç±»å®šä¹‰ï¼Œå¼ºè°ƒä»£ç çš„å¯è¯»æ€§ã€‚\n    *   **Built-in Tooling**: å†…ç½®äº†å¤§é‡ç°æˆçš„å·¥å…·é›†ï¼ˆDuckDuckGo, YFinance, Exa ç­‰ï¼‰ï¼Œå¼€ç®±å³ç”¨ã€‚\n    *   **Storage & Memory**: æä¾›äº†ç®€å•çš„æ•°æ®åº“é›†æˆï¼ˆPostgres/Sqliteï¼‰æ¥å­˜å‚¨å¯¹è¯å†å²ã€‚\n*   **å¯¹æ¯”ä¼˜åŠ£**:\n    *   *vs LangChain*: Phidata æ›´è½»é‡ï¼ŒæŠ½è±¡å±‚çº§æ›´å°‘ï¼Œè°ƒè¯•æ›´å®¹æ˜“ã€‚LangChain åŠŸèƒ½æ›´å…¨ä½†å­¦ä¹ æ›²çº¿é™¡å³­ã€‚\n    *   *vs CrewAI*: CrewAI å¼ºè¡Œæ¨¡æ‹Ÿâ€œè§’è‰²æ‰®æ¼”â€å’Œâ€œè½®å¾ªå¯¹è¯â€ï¼Œæœ‰æ—¶è¿‡äºå†—ä½™ã€‚Phidata æ›´åŠ¡å®ï¼Œä¾§é‡äºâ€œä»»åŠ¡æ‰§è¡Œâ€å’Œâ€œå·¥å…·è°ƒç”¨â€ã€‚\n\n### 3.2 æ¡†æ¶ä½¿ç”¨æƒ…å†µ\n\n*   **ç”¨åˆ°çš„åŠŸèƒ½**:\n    *   `Agent` ç±»ï¼šæ ¸å¿ƒæ„å»ºå—ã€‚\n    *   `Tools` é›†æˆï¼š`DuckDuckGo()`, `ExaTools()` ç­‰ã€‚\n    *   `Team` ç»“æ„ï¼šé€šè¿‡ `team=[agent1, agent2]` å®ç°å¤šæ™ºèƒ½ä½“ã€‚\n    *   `Instructions`ï¼šé€šè¿‡åˆ—è¡¨å½¢å¼æ³¨å…¥ System Promptã€‚\n    *   `Structured Output` (éƒ¨åˆ†é¡¹ç›®ä½¿ç”¨)ï¼šå¼ºåˆ¶è¾“å‡º Pydantic æ¨¡å‹ã€‚\n*   **èŒè´£åˆ†ç¦»**:\n    *   æ¡†æ¶è´Ÿè´£ï¼šLLM çš„ API è¿æ¥ã€ä¸Šä¸‹æ–‡çª—å£ç®¡ç†ã€é‡è¯•æœºåˆ¶ã€å·¥å…·è°ƒç”¨çš„è§£æï¼ˆJSON Parsingï¼‰ã€‚\n    *   ä¸šåŠ¡ä»£ç è´Ÿè´£ï¼šå®šä¹‰ Agent çš„è§’è‰²ï¼ˆPromptï¼‰ã€å®šä¹‰å…·ä½“çš„å·¥å…·å‡½æ•°ï¼ˆTool Logicï¼‰ã€ç¼–æ’ä¸šåŠ¡æµã€‚\n\n---\n\n## å››ã€ Agent å®ç°ç»†èŠ‚\n\n### 4.1 å•ä¸ª Agent çš„ç»“æ„\n\nä¸€ä¸ªå…¸å‹çš„ Phidata Agent ç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆï¼š\n\n```python\n# ä¼ªä»£ç ç¤ºä¾‹\nweb_agent = Agent(\n    name=\"Web Searcher\",           # 1. èº«ä»½æ ‡è¯†\n    role=\"Search for travel info\", # 2. è§’è‰²å®šä¹‰ (System Prompt æ ¸å¿ƒ)\n    model=OpenAIChat(id=\"gpt-4o\"), # 3. å¤§è„‘ (LLM é…ç½®)\n    tools=[DuckDuckGo()],          # 4. æ‰‹è„š (èƒ½åŠ›è¾¹ç•Œ)\n    instructions=[                 # 5. è¡Œä¸ºå‡†åˆ™ (SOP)\n        \"Always include sources\",\n        \"Summarize in bullet points\"\n    ],\n    show_tool_calls=True,          # 6. è°ƒè¯•é…ç½®\n    markdown=True                  # 7. è¾“å‡ºæ ¼å¼\n)\n```\n\n*   **Role**: å†³å®šäº† Agent çš„â€œäººè®¾â€ã€‚\n*   **Tools**: å†³å®šäº† Agent èƒ½â€œåšä»€ä¹ˆâ€ã€‚\n*   **Instructions**: å†³å®šäº† Agent â€œæ€ä¹ˆåšâ€ã€‚\n\n### 4.2 Prompt å·¥ç¨‹\n\nPrompt åœ¨ Phidata ä¸­è¢«æ‹†åˆ†ä¸º `role` å’Œ `instructions`ã€‚\n\n*   **Instructions ç»“æ„**: é€šå¸¸æ˜¯ä¸€ä¸ª Python å­—ç¬¦ä¸²åˆ—è¡¨ã€‚æ¡†æ¶ä¼šåœ¨è¿è¡Œæ—¶å°†å…¶æ‹¼æ¥å¹¶æ³¨å…¥åˆ° System Message ä¸­ã€‚\n*   **Prompt äº®ç‚¹ (å€¼å¾—å­¦ä¹ )**:\n    1.  **çº¦æŸæ€§æŒ‡ä»¤**: `\"Always include sources\"`ï¼ˆå¼ºåˆ¶å¼•ç”¨æ¥æºï¼Œå¢åŠ å¯ä¿¡åº¦ï¼‰ã€‚\n    2.  **æ ¼å¼åŒ–æŒ‡ä»¤**: `\"Use tables to display data\"`ï¼ˆå¼ºåˆ¶ç»“æ„åŒ–å±•ç¤ºï¼Œä¾¿äºç”¨æˆ·é˜…è¯»ï¼‰ã€‚\n    3.  **å¦å®šæŒ‡ä»¤**: `\"Do not invent information\"`ï¼ˆå‡å°‘å¹»è§‰ï¼‰ã€‚\n    4.  **æ€ç»´é“¾æŒ‡ä»¤**: `\"Think step by step before answering\"`ï¼ˆæ¿€å‘ CoT èƒ½åŠ›ï¼Œæé«˜è§„åˆ’å‡†ç¡®æ€§ï¼‰ã€‚\n    5.  **ä¸Šä¸‹æ–‡æŒ‡ä»¤**: `\"Always mention the timeframe and location provided by the user\"`ï¼ˆç¡®ä¿å›ç­”ä¸åé¢˜ï¼‰ã€‚\n\n**åŸå› åˆ†æ**: è¿™äº›æŒ‡ä»¤ç›´æ¥å¯¹åº”ä¸šåŠ¡éœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œåœ¨æ—…è¡Œè§„åˆ’ä¸­ï¼Œç”¨æˆ·æœ€æ€•â€œå‡å¤§ç©ºâ€çš„å»ºè®®ï¼Œå› æ­¤â€œå¼•ç”¨æ¥æºâ€å’Œâ€œè¡¨æ ¼å±•ç¤ºâ€æ˜¯æå‡ç”¨æˆ·ä½“éªŒçš„å…³é”®ã€‚\n\n### 4.3 å·¥å…· (Tools)\n\n*   **å®šä¹‰æ–¹å¼**: Python å‡½æ•°æˆ–ç±»æ–¹æ³•ï¼Œé€šè¿‡è£…é¥°å™¨æˆ–ç›´æ¥ä¼ é€’ç»™ Agentã€‚\n*   **å…³è”æ–¹å¼**: `tools=[ToolClass()]`ã€‚LLM ä¼šè¯»å–å·¥å…·çš„å‡½æ•°åã€å‚æ•°ç±»å‹ï¼ˆType Hintsï¼‰å’Œæ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆDocstringï¼‰æ¥ç†è§£å¦‚ä½•è°ƒç”¨ã€‚\n*   **è¾“å…¥è¾“å‡ºè®¾è®¡**:\n    *   *è¾“å…¥*: å¼ºç±»å‹çš„å‚æ•°ï¼ˆå¦‚ `query: str`, `max_results: int`ï¼‰ã€‚è¿™åˆ©ç”¨äº† Pydantic çš„éªŒè¯èƒ½åŠ›ï¼Œç¡®ä¿ LLM ä¼ å‚æ­£ç¡®ã€‚\n    *   *è¾“å‡º*: é€šå¸¸æ˜¯ JSON å­—ç¬¦ä¸²æˆ–çº¯æ–‡æœ¬ã€‚Agent ä¼šè¯»å–è¿™ä¸ªè¾“å‡ºå¹¶å°†å…¶è½¬åŒ–ä¸ºè‡ªç„¶è¯­è¨€å›å¤ç»™ç”¨æˆ·ã€‚\n\n---\n\n## äº”ã€ ä¸Šä¸‹æ–‡ç®¡ç†\n\n### 5.1 ä¸Šä¸‹æ–‡ä¼ é€’\n\n*   **ä¼ é€’æœºåˆ¶**: åœ¨ `Agent(team=[...])` æ¨¡å¼ä¸‹ï¼ŒPhidata ç»´æŠ¤ä¸€ä¸ªå…±äº«çš„ `messages` åˆ—è¡¨ï¼ˆChat Historyï¼‰ã€‚\n*   **æµç¨‹**:\n    1.  ç”¨æˆ·å‘æ¶ˆæ¯ -> æ·»åŠ åˆ° Historyã€‚\n    2.  Leader Agent æ€è€ƒ -> äº§ç”Ÿ Tool Call (è°ƒç”¨ Sub-Agent) -> æ·»åŠ åˆ° Historyã€‚\n    3.  Sub-Agent æ‰§è¡Œ -> äº§ç”Ÿ Result -> æ·»åŠ åˆ° Historyã€‚\n    4.  Leader Agent è¯»å–å®Œæ•´ History (åŒ…å« Sub-Agent çš„ç»“æœ) -> ç”Ÿæˆæœ€ç»ˆå›å¤ã€‚\n*   **è¶…é•¿å¤„ç†**: Phidata å†…ç½®äº†ä¸Šä¸‹æ–‡å‹ç¼©æˆ–æ»‘åŠ¨çª—å£æœºåˆ¶ï¼ˆå–å†³äºé…ç½®ï¼‰ï¼Œä½†åœ¨ç®€å• Demo ä¸­é€šå¸¸ä¾èµ– LLM çš„é•¿çª—å£ï¼ˆå¦‚ GPT-4o çš„ 128k contextï¼‰ã€‚\n\n### 5.2 ä¸Šä¸‹æ–‡å­˜å‚¨\n\n*   **è¿è¡Œæ—¶**: å†…å­˜ (RAM)ã€‚\n*   **æŒä¹…åŒ–**: Phidata æ”¯æŒ `PgAgentStorage` (PostgreSQL) æˆ– `SqliteAgentStorage`ã€‚\n    *   *å®ç°*: åœ¨åˆå§‹åŒ– Agent æ—¶ä¼ å…¥ `storage` å‚æ•°ã€‚\n    *   *ä½œç”¨*: å…è®¸ç”¨æˆ·å…³é—­ç½‘é¡µåï¼Œä¸‹æ¬¡å›æ¥è¿˜èƒ½ç»§ç»­ä¹‹å‰çš„æ—…è¡Œè§„åˆ’å¯¹è¯ã€‚\n\n### 5.3 å¤šæ¨¡æ€\n\n*   è™½ç„¶è¯¥é¡¹ç›®ä¸»è¦åŸºäºæ–‡æœ¬ï¼Œä½†å¦‚æœä½¿ç”¨äº† `gpt-4o` ä¸”å¯ç”¨äº†ç›¸å…³å·¥å…·ï¼ŒAgent å¯ä»¥å¤„ç†å›¾ç‰‡ï¼ˆä¾‹å¦‚ç”¨æˆ·ä¸Šä¼ ä¸€å¼ é£æ™¯å›¾é—®â€œè¿™æ˜¯å“ªé‡Œï¼Œå¸®æˆ‘è§„åˆ’å»è¿™é‡Œçš„è¡Œç¨‹â€ï¼‰ã€‚Phidata æ¡†æ¶åŸç”Ÿæ”¯æŒå¤šæ¨¡æ€è¾“å…¥ã€‚\n\n---\n\n## å…­ã€ å¤–éƒ¨ä¾èµ–\n\n### 6.1 å¤–éƒ¨ API\n\n| API åç§° | ä½œç”¨ | Key ç®¡ç† |\n| :--- | :--- | :--- |\n| **OpenAI API** | æä¾›æ¨ç†æ ¸å¿ƒ (LLM)ã€‚ | ç¯å¢ƒå˜é‡ `OPENAI_API_KEY` |\n| **DuckDuckGo Search** | å…è´¹çš„é€šç”¨ç½‘é¡µæœç´¢ã€‚ | æ— éœ€ Key (é€šå¸¸) |\n| **Exa (Metaphor)** | ä¸“ä¸º AI è®¾è®¡çš„ç¥ç»æœç´¢ APIï¼Œæ“…é•¿ç†è§£è¯­ä¹‰ã€‚ | ç¯å¢ƒå˜é‡ `EXA_API_KEY` |\n| **Amadeus/SerpApi** | (å¯é€‰) å…·ä½“çš„èˆªç­/é…’åº—æ•°æ®æºã€‚ | ç¯å¢ƒå˜é‡ |\n\n### 6.2 LLM é…ç½®\n\n*   **æ¨¡å‹**: é»˜è®¤é€šå¸¸ä½¿ç”¨ `gpt-4o` æˆ– `gpt-4-turbo`ï¼Œå› ä¸ºè§„åˆ’ä»»åŠ¡éœ€è¦è¾ƒå¼ºçš„æ¨ç†èƒ½åŠ› (Reasoning)ã€‚\n*   **è·¯ç”±**: ä»£ç é€šå¸¸ç›´æ¥è°ƒç”¨ `phi.model.openai`ï¼Œä½†ä¹Ÿæ”¯æŒ `phi.model.groq` (ä½¿ç”¨ Llama 3) ä»¥é™ä½æˆæœ¬æˆ–æé«˜é€Ÿåº¦ [cite: 1, 4]ã€‚\n*   **å‚æ•°**: `temperature` é€šå¸¸è®¾ç½®è¾ƒä½ (0.1 - 0.3) ä»¥ä¿è¯å·¥å…·è°ƒç”¨çš„ç¨³å®šæ€§ï¼›æˆ–è€…åœ¨ç”Ÿæˆåˆ›æ„è¡Œç¨‹æ—¶åŠ¨æ€è°ƒé«˜ã€‚\n\n---\n\n## ä¸ƒã€ åŸºç¡€è®¾æ–½\n\n### 7.1 æ—¥å¿—\n\n*   **åº“**: Phidata å†…ç½®æ—¥å¿—ç³»ç»Ÿï¼Œé€šå¸¸åŸºäº Python æ ‡å‡† `logging` åº“ã€‚\n*   **å®è·µ**: å¼€å¯ `show_tool_calls=True`ã€‚è¿™ä¼šåœ¨æ§åˆ¶å°æ‰“å°å‡º `Running: search_google(query=\"Paris hotels\")`ã€‚è¿™å¯¹äºå¼€å‘è€…è°ƒè¯• Agent çš„æ€ç»´è¿‡ç¨‹è‡³å…³é‡è¦ã€‚\n\n### 7.2 é”™è¯¯å¤„ç†\n\n*   **é‡è¯•**: LLM ç”Ÿæˆçš„ JSON æ ¼å¼é”™è¯¯æ—¶ï¼ŒPhidata ä¼šè‡ªåŠ¨å°†é”™è¯¯ä¿¡æ¯åé¦ˆç»™ LLMï¼Œè¦æ±‚å…¶é‡è¯•ï¼ˆSelf-Correctionï¼‰ã€‚\n*   **å¼‚å¸¸æ•è·**: å·¥å…·å‡½æ•°å†…éƒ¨é€šå¸¸åŒ…è£¹ `try-except` å—ï¼Œè¿”å›å­—ç¬¦ä¸²å½¢å¼çš„é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚ \"Search failed, please try again\"ï¼‰ï¼Œè€Œä¸æ˜¯è®©ç¨‹åºå´©æºƒã€‚è¿™æ · Agent å¯ä»¥çœ‹åˆ°é”™è¯¯å¹¶å°è¯•å…¶ä»–æ–¹æ¡ˆã€‚\n\n### 7.3 çŠ¶æ€ç®¡ç†\n\n*   **ä»»åŠ¡çŠ¶æ€**: åœ¨ç®€å•çš„ Request-Response æ¨¡å¼ä¸­ï¼ŒçŠ¶æ€ç”±å¯¹è¯å†å²ç»´æŒã€‚\n*   **å‰ç«¯è¿›åº¦**: å¦‚æœä½¿ç”¨ Streamlitï¼Œé€šè¿‡ `st.write_stream` æˆ– `st.status` ç»„ä»¶å®æ—¶å±•ç¤º Agent çš„æ€è€ƒè¿‡ç¨‹ï¼ˆå¦‚ \"æ­£åœ¨æœç´¢èˆªç­...\"ï¼‰ã€‚\n\n---\n\n## å…«ã€ è¾“å…¥è¾“å‡ºå¤„ç†\n\n### 8.1 è¾“å…¥å¤„ç†\n\n*   **æ ¼å¼**: çº¯æ–‡æœ¬å­—ç¬¦ä¸²ã€‚\n*   **è§„èŒƒåŒ–**: ä¾èµ– LLM çš„ç†è§£èƒ½åŠ›ã€‚ä¸éœ€è¦ä¼ ç»Ÿçš„ NLP é¢„å¤„ç†ï¼ˆåˆ†è¯ã€æ­£åˆ™ï¼‰ã€‚Prompt ä¸­çš„ `instructions` èµ·åˆ°äº†â€œè½¯æ€§è§„èŒƒåŒ–â€çš„ä½œç”¨ã€‚\n\n### 8.2 è¾“å‡ºå¤„ç†\n\n*   **åŸå§‹è¾“å‡º**: LLM ç”Ÿæˆçš„ Markdown æ–‡æœ¬ã€‚\n*   **ç»“æ„åŒ–æ•°æ®**: å¦‚æœéœ€è¦å¯¹æ¥åç«¯ç³»ç»Ÿï¼ˆå¦‚ç›´æ¥ä¸‹å•ï¼‰ï¼ŒAgent å¯ä»¥é…ç½® `response_model` (Pydantic)ï¼Œå¼ºåˆ¶ LLM è¾“å‡º JSON æ ¼å¼çš„è®¢å•è¯¦æƒ…ï¼Œè€Œä¸æ˜¯è‡ªç„¶è¯­è¨€ã€‚\n\n---\n\n## ä¹ã€ é¡¹ç›®ç‰¹è‰²\n\n### 9.1 åˆ›æ–°ç‚¹\n\n1.  **Team æ¨¡å¼çš„æç®€å®ç°**: ç”¨æå°‘çš„ä»£ç ï¼ˆå‡ åè¡Œï¼‰å®ç°äº†å¤æ‚çš„å¤šæ™ºèƒ½ä½“åä½œã€‚\n2.  **å·¥å…·å³ Agent (Tool as Agent)**: å°†ä¸€ä¸ª Agent åŒ…è£…æˆå¦ä¸€ä¸ª Agent çš„å·¥å…·ï¼Œå®ç°äº†æ— é™å±‚çº§çš„åµŒå¥—èƒ½åŠ›ã€‚\n3.  **æ··åˆæœç´¢ç­–ç•¥**: ç»“åˆäº†é€šç”¨æœç´¢ (DuckDuckGo) å’Œå‚ç›´æœç´¢ (Exa/Amadeus)ï¼Œå…¼é¡¾äº†å¹¿åº¦å’Œæ·±åº¦ã€‚\n\n### 9.2 ä¸è¶³ä¹‹å¤„\n\n1.  **ç¼ºä¹ç¡®å®šæ€§**: åŒæ ·çš„ Prompt å¯èƒ½æ¯æ¬¡ç”Ÿæˆçš„è¡Œç¨‹æ ¼å¼ä¸ä¸€æ ·ã€‚\n2.  **å¹»è§‰é£é™©**: å¦‚æœæœç´¢ç»“æœä¸ºç©ºï¼ŒAgent å¯èƒ½ä¼šç¼–é€ æ™¯ç‚¹ã€‚éœ€è¦æ›´å¼ºçš„ `Grounding` æœºåˆ¶ã€‚\n3.  **æˆæœ¬æ§åˆ¶**: å¤š Agent æ„å‘³ç€å¤šæ¬¡ LLM è°ƒç”¨ï¼ŒToken æ¶ˆè€—é‡å¤§ã€‚\n\n---\n\n## åã€ å­¦ä¹ æ€»ç»“ä¸å¼€å‘å»ºè®®\n\n### 10.1 æ ¸å¿ƒæ”¶è·\n\n1.  **Prompt æ˜¯ä»£ç çš„ä¸€éƒ¨åˆ†**: åœ¨ Agent å¼€å‘ä¸­ï¼ŒPrompt ä¸å†æ˜¯é…ç½®ï¼Œè€Œæ˜¯æ ¸å¿ƒé€»è¾‘ã€‚ä½ éœ€è¦åƒå†™ä»£ç ä¸€æ ·å»ç‰ˆæœ¬æ§åˆ¶ã€æµ‹è¯•ä½ çš„ Promptã€‚\n2.  **å·¥å…·å®šä¹‰å†³å®šèƒ½åŠ›ä¸Šé™**: Agent èªä¸èªæ˜çœ‹ LLMï¼Œèƒ½ä¸èƒ½å¹²æ´»çœ‹ Toolsã€‚å®šä¹‰æ¸…æ™°ã€å‚æ•°æ˜ç¡®çš„å·¥å…·å‡½æ•°æ˜¯æˆåŠŸçš„å…³é”®ã€‚\n3.  **åˆ†å±‚æ¶æ„çš„é‡è¦æ€§**: ä¸è¦è¯•å›¾ç”¨ä¸€ä¸ª Agent åšæ‰€æœ‰äº‹ã€‚å°†â€œè§„åˆ’â€å’Œâ€œæ‰§è¡Œâ€åˆ†å¼€ï¼Œå°†â€œæœç´¢â€å’Œâ€œè®¡ç®—â€åˆ†å¼€ã€‚\n\n### 10.2 å¯å¤ç”¨æ¨¡å¼\n\n*   **Manager-Worker æ¨¡å¼**: ä¸€ä¸ªä¸» Agent è´Ÿè´£æ´¾å•ï¼Œå¤šä¸ªä» Agent è´Ÿè´£æ¥å•ã€‚\n*   **RAG-Tool æ¨¡å¼**: å…ˆç”¨å·¥å…·æœç´¢ï¼ˆRetrievalï¼‰ï¼Œå†ç”¨ LLM ç”Ÿæˆï¼ˆGenerationï¼‰ã€‚\n*   **Self-Correction æ¨¡å¼**: åœ¨ Prompt ä¸­è¦æ±‚ Agent æ£€æŸ¥è‡ªå·±çš„è¾“å‡ºï¼ˆ\"Check if the budget exceeds the limit\"ï¼‰ã€‚\n\n### 10.3 å¯¹ä½ å¼€å‘â€œä¸šåŠ¡åœºæ™¯ Agentâ€çš„å¯å‘\n\nå¦‚æœä½ è¦å¼€å‘ä¸€ä¸ªé¢å‘ä¸šåŠ¡ï¼ˆå¦‚ä¼ä¸šé‡‡è´­ã€å®¢æˆ·æœåŠ¡ï¼‰çš„ Agentï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š\n\n1.  **SOP æ˜¾æ€§åŒ–**: æŠŠä½ ç°åœ¨çš„ä¸šåŠ¡æµç¨‹å›¾ï¼ˆSOPï¼‰æ‹¿å‡ºæ¥ï¼Œæ¯ä¸€ä¸ªåˆ¤æ–­èŠ‚ç‚¹ï¼ˆDecision Nodeï¼‰å˜æˆ Manager Agent çš„ä¸€æ¡ Instructionã€‚\n2.  **API å·¥å…·åŒ–**: æŠŠä½ ä¸šåŠ¡ç³»ç»Ÿä¸­çš„ APIï¼ˆæŸ¥è¯¢åº“å­˜ã€åˆ›å»ºè®¢å•ï¼‰å°è£…æˆ Python å‡½æ•°ï¼Œå¹¶å†™å¥½è¯¦ç»†çš„ Docstringã€‚\n3.  **çŠ¶æ€æµè½¬**: æ¨¡ä»¿è¯¥é¡¹ç›®çš„ `Team` ç»“æ„ã€‚\n    *   ç”¨æˆ· -> **ä¸šåŠ¡ç»ç† Agent** (è´Ÿè´£æ„å›¾è¯†åˆ«ï¼šæ˜¯æŸ¥åº“å­˜è¿˜æ˜¯ä¸‹å•ï¼Ÿ)\n    *   ä¸šåŠ¡ç»ç† -> **åº“å­˜ Agent** (è°ƒç”¨ ERP æ¥å£)\n    *   ä¸šåŠ¡ç»ç† -> **è®¢å• Agent** (è°ƒç”¨ CRM æ¥å£)\n4.  **é˜²å¾¡æ€§ Prompt**: åœ¨ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå‡†ç¡®æ€§é«˜äºåˆ›é€ æ€§ã€‚ä½ çš„ Prompt å¿…é¡»åŒ…å«å¤§é‡çš„â€œè´Ÿé¢çº¦æŸâ€ï¼ˆå¦‚ï¼šâ€œå¦‚æœåº“å­˜ä¸è¶³ï¼Œç»å¯¹ä¸è¦è‡ªè¡Œæ‰¿è¯ºå‘è´§æ—¶é—´ï¼Œå¿…é¡»è¿”å›é”™è¯¯â€ï¼‰ã€‚\n\n### 10.4 ç‹¬ç‰¹çš„äº®ç‚¹è®¾è®¡\n\nè¯¥é¡¹ç›®æœ€å·§å¦™çš„è®¾è®¡åœ¨äº **\"Show, don't tell\" çš„è°ƒè¯•æœºåˆ¶** (`show_tool_calls=True`)ã€‚åœ¨ä¸šåŠ¡å¼€å‘ä¸­ï¼Œè¿™å…è®¸ä¸šåŠ¡äººå‘˜ç›´æ¥çœ‹åˆ° AI åˆ°åº•è°ƒç”¨äº†å“ªä¸ªå·¥å…·ã€ä¼ äº†ä»€ä¹ˆå‚æ•°ï¼Œæå¤§åœ°é™ä½äº†â€œAI é»‘ç›’â€å¸¦æ¥çš„ä¿¡ä»»å±æœºã€‚è¿™å¯¹äºä¼ä¸šçº§åº”ç”¨ä¸Šçº¿è‡³å…³é‡è¦ã€‚\n\n---\n\n**å‚è€ƒèµ„æ–™**:\n[cite: 1, 2, 3, 4, 5, 6]\n\n**Sources:**\n1. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGULoTr57KxhCxNZFrtF5sygLKU9TCIHDUKKz07wZeFRMZrp8bOVikUvjQX2H5bcGr9otqHnMYhxuR9HdGx6sSIDoGUvHdBvWR74s5QXpVxJhxuyQXv9A4qUlmvukcFqyuVZ0nRbZrnzzoIJjU9Gz_aB-kCQ5UMkJVvBHCb1AuW5o7-xShtbYKMSxBoa7K7NawTt84ifM-y3yS9tQ==)\n2. [phidata.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQHrm6vkElwygFlxWXKfh_RcuOGHw3ZShTjuf3Okd4ijMyMLfKRNCE5qr3jHJ1YXcNupoa6yeKhxp46RXPUjs6UPDuOghBJ_J9yY97Rc_jswvvxWOe5Q_iNqiKvElqJmeajbzfHS6Dle0vQ=)\n3. [phidata.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFolE948QBk6aNXkT08AxgUSYSxyYnuyAw3qyEPOaqig3XvCAymK4tZ3C9RvC3iR3eaGR0H0cLliTp9v4ILbb6kLIJHlxj5UrYAhUTr42f3QMThfleNfMq8QtZA)\n4. [hackernoon.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFxqoa0HPzOsaLZRXJJsZA9AQteipsyillXUkCm9weSBon-6eruHh6d3xTV0YLo2HLXyp-Rjd-ngUgSh8EdSX-nks7odbXdyXXdfH4-uiOM2g6g1c8RGU2cN1AdQI5WTDNMthYQgzCVHkCm5ym3UQA3A1D01QuiWDjf8nSTOpVHk44vqqDlPTY8n0-8N7ZqvtPI)\n5. [phidata.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQE7YitBVOg9RV2-C_Q3bBtM7KXzC7dQpeKSG3QgaOehprYAS5rd8w4ROdPGowERXkT9KWurPt3_bWl-SkOnykIaCyKvc5YyLVFXfrMR2EfNJwlYlZYmoMMV1G8PjuV78IhPfcT-SEg281HnyIE=)\n6. [Link](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQHkufo45dwWcZ8ayFPYfEc3Q43b-x_fdM23B05G4m5D8eplZD8NH4uY7x4gee14rwDlsfAriaGU9DQZQtUbS9nrhZ9KgH4UT6tu2W9boMcmuTHmRH6CV_zhJxGOsSV5sC_Dtvq8D33AslWj3ZmCa93ZeCejjZyQMx_iaYgdso00YhmzH7G-pWx0hZNXh1yL4TePISXgww==)\n"
    }
  ]
}